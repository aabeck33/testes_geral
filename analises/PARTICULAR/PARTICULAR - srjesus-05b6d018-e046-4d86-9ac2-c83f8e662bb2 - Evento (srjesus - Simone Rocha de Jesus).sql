SELECT DTDEADLINEFIELD,DTSTART,IDLEVEL,IDPROCESS,IDREVISIONSTATUS,IDSITUATION,IDSLASTATUS,NMDEADLINE,NMEVALRESULT,NMOCCURRENCETYPE,NMPROCESS,NMPROCESSMODEL,NMREVISIONSTATUS,NMUSERSTART,TYPEUSER,FGSTATUS,FGSLASTATUS,FGDEADLINE,CDEVALRESULT,CDOCCURRENCETYPE,CDPROCESS,CDPROCESSMODEL,CDREVISIONSTATUS,CDUSERSTART,FGTYPEUSER,DTFINISH,DTSLAFINISH,IDREVISION,NMACTTYPE,CDACTTYPE,T0__TDS015_2,T0__TDS154_7,T0__TDS018_0,T0__TDS017_1,T0__TDS025_1,T0__TDS156_7,T0__TDS074_7,T0__TDS075_7,T0__TDS086_7,T0__TDS158_7,T0__TDS087_7,T0__TDS088_7,T0__TDS076_7,T0__TDS077_7,T0__TDS091_7,T0__TDS084_7,T0__TDS085_7,T0__TDS164_7,T0__TDS072_7,T0__TDS073_7,T0__TDS103_7,T0__TDS102_7,T0__TDS095_7,T0__TDS101_7,T0__TDS098_7,T0__TDS099_7,T0__TDS100_7,T0__TDS097_7,T0__TDS096_7,T0__TDS093_7,T0__TDS094_7,T0__TDS078_7,T0__TDS079_7,T0__TDS089_7,T0__TDS067_7,T0__TDS069_7,T0__TDS068_7,T0__TDS081_7,T0__TDS080_7,T0__TDS157_7,T0__TDS092_7,T0__TDS083_7,T0__TDS070_7,T0__TDS082_7,T0__TDS071_7,T0__TDS090_7,T0__TDS159_7,T0__TDS122_7,T0__TDS123_7,T0__TDS134_7,T0__TDS161_7,T0__TDS135_7,T0__TDS136_7,T0__TDS124_7,T0__TDS125_7,T0__TDS139_7,T0__TDS132_7,T0__TDS133_7,T0__TDS165_7,T0__TDS120_7,T0__TDS121_7,T0__TDS150_7,T0__TDS143_7,T0__TDS149_7,T0__TDS146_7,T0__TDS147_7,T0__TDS148_7,T0__TDS145_7,T0__TDS144_7,T0__TDS141_7,T0__TDS142_7,T0__TDS126_7,T0__TDS127_7,T0__TDS137_7,T0__TDS115_7,T0__TDS117_7,T0__TDS116_7,T0__TDS129_7,T0__TDS128_7,T0__TDS160_7,T0__TDS140_7,T0__TDS131_7,T0__TDS118_7,T0__TDS130_7,T0__TDS119_7,T0__TDS138_7,T0__TDS151_7,T0__TDS022_2,T0__TDS013_7,T0__TDS004_3,T0__TDS169_2,T0__TDS023_2,T0__TDS152_0,T0__TDS016_3,T0__TDS026_6,T0__TDS021_0,T0__TDS020_0,T0__TDS110_0,T0__TDS114_0,T0__TDS113_0,T0__TDS111_0,T0__TDS019_0,T0__TDS006_6,T0__TDS005_6,T0__TDS003_7,T0__TDS105_7,T0__TDS001_7,T0__TDS112_3,T0__TDS170_0,T0__TDS024_3,T0__TDS107_3,T0__TDS010_2,T0__TDS002_1,T0__TDS007_1,T0__TDS109_3,T0__TDS155_7,T0__TDS168_3,T0__TDS012_7,T0__TDS166_2,T0__TDS106_7,T0__TDS167_1,T0__TDS153_7,T0__TDS163_7,T0__TDS008_2,T0__TDS009_2,T0__TDS108_3,T0__TDS041_7,T0__TDS040_7,T0__TDS042_7,T0__TDS052_7,T0__TDS062_7,T0__TDS063_7,T0__TDS049_7,T0__TDS050_7,T0__TDS064_7,T0__TDS031_7,T0__TDS032_7,T0__TDS033_7,T0__TDS059_7,T0__TDS061_7,T0__TDS053_7,T0__TDS054_7,T0__TDS044_7,T0__TDS043_7,T0__TDS057_7,T0__TDS058_7,T0__TDS028_7,T0__TDS029_7,T0__TDS030_7,T0__TDS027_7,T0__TDS104_7,T0__TDS065_7,T0__TDS066_7,T0__TDS047_7,T0__TDS048_7,T0__TDS034_7,T0__TDS035_7,T0__TDS037_7,T0__TDS036_7,T0__TDS046_7,T0__TDS060_7,T0__TDS045_7,T0__TDS039_7,T0__TDS038_7,T0__TDS056_7,T0__TDS055_7,T0__TDS051_7,T0__TDS162_1,T0__TDS011_7,T0_R0_TBS001_1,T0_R1_TBS001_1,T0_R2_TBS001_1 FROM (SELECT DTDEADLINEFIELD,DTSTART,IDLEVEL,IDPROCESS,IDREVISIONSTATUS,IDSITUATION,IDSLASTATUS,NMDEADLINE,NMEVALRESULT,NMOCCURRENCETYPE,NMPROCESS,NMPROCESSMODEL,NMREVISIONSTATUS,NMUSERSTART,TYPEUSER,FGSTATUS,FGSLASTATUS,FGDEADLINE,CDEVALRESULT,CDOCCURRENCETYPE,CDPROCESS,CDPROCESSMODEL,CDREVISIONSTATUS,CDUSERSTART,FGTYPEUSER,DTFINISH,DTSLAFINISH,IDREVISION,NMACTTYPE,CDACTTYPE,T0__TDS015_2,T0__TDS154_7,T0__TDS018_0,T0__TDS017_1,T0__TDS025_1,T0__TDS156_7,T0__TDS074_7,T0__TDS075_7,T0__TDS086_7,T0__TDS158_7,T0__TDS087_7,T0__TDS088_7,T0__TDS076_7,T0__TDS077_7,T0__TDS091_7,T0__TDS084_7,T0__TDS085_7,T0__TDS164_7,T0__TDS072_7,T0__TDS073_7,T0__TDS103_7,T0__TDS102_7,T0__TDS095_7,T0__TDS101_7,T0__TDS098_7,T0__TDS099_7,T0__TDS100_7,T0__TDS097_7,T0__TDS096_7,T0__TDS093_7,T0__TDS094_7,T0__TDS078_7,T0__TDS079_7,T0__TDS089_7,T0__TDS067_7,T0__TDS069_7,T0__TDS068_7,T0__TDS081_7,T0__TDS080_7,T0__TDS157_7,T0__TDS092_7,T0__TDS083_7,T0__TDS070_7,T0__TDS082_7,T0__TDS071_7,T0__TDS090_7,T0__TDS159_7,T0__TDS122_7,T0__TDS123_7,T0__TDS134_7,T0__TDS161_7,T0__TDS135_7,T0__TDS136_7,T0__TDS124_7,T0__TDS125_7,T0__TDS139_7,T0__TDS132_7,T0__TDS133_7,T0__TDS165_7,T0__TDS120_7,T0__TDS121_7,T0__TDS150_7,T0__TDS143_7,T0__TDS149_7,T0__TDS146_7,T0__TDS147_7,T0__TDS148_7,T0__TDS145_7,T0__TDS144_7,T0__TDS141_7,T0__TDS142_7,T0__TDS126_7,T0__TDS127_7,T0__TDS137_7,T0__TDS115_7,T0__TDS117_7,T0__TDS116_7,T0__TDS129_7,T0__TDS128_7,T0__TDS160_7,T0__TDS140_7,T0__TDS131_7,T0__TDS118_7,T0__TDS130_7,T0__TDS119_7,T0__TDS138_7,T0__TDS151_7,T0__TDS022_2,T0__TDS013_7,T0__TDS004_3,T0__TDS169_2,T0__TDS023_2,T0__TDS152_0,T0__TDS016_3,T0__TDS026_6,T0__TDS021_0,T0__TDS020_0,T0__TDS110_0,T0__TDS114_0,T0__TDS113_0,T0__TDS111_0,T0__TDS019_0,T0__TDS006_6,T0__TDS005_6,T0__TDS003_7,T0__TDS105_7,T0__TDS001_7,T0__TDS112_3,T0__TDS170_0,T0__TDS024_3,T0__TDS107_3,T0__TDS010_2,T0__TDS002_1,T0__TDS007_1,T0__TDS109_3,T0__TDS155_7,T0__TDS168_3,T0__TDS012_7,T0__TDS166_2,T0__TDS106_7,T0__TDS167_1,T0__TDS153_7,T0__TDS163_7,T0__TDS008_2,T0__TDS009_2,T0__TDS108_3,T0__TDS041_7,T0__TDS040_7,T0__TDS042_7,T0__TDS052_7,T0__TDS062_7,T0__TDS063_7,T0__TDS049_7,T0__TDS050_7,T0__TDS064_7,T0__TDS031_7,T0__TDS032_7,T0__TDS033_7,T0__TDS059_7,T0__TDS061_7,T0__TDS053_7,T0__TDS054_7,T0__TDS044_7,T0__TDS043_7,T0__TDS057_7,T0__TDS058_7,T0__TDS028_7,T0__TDS029_7,T0__TDS030_7,T0__TDS027_7,T0__TDS104_7,T0__TDS065_7,T0__TDS066_7,T0__TDS047_7,T0__TDS048_7,T0__TDS034_7,T0__TDS035_7,T0__TDS037_7,T0__TDS036_7,T0__TDS046_7,T0__TDS060_7,T0__TDS045_7,T0__TDS039_7,T0__TDS038_7,T0__TDS056_7,T0__TDS055_7,T0__TDS051_7,T0__TDS162_1,T0__TDS011_7,T0_R0_TBS001_1,T0_R1_TBS001_1,T0_R2_TBS001_1 FROM (SELECT 1 AS QTD, WFP.IDPROCESS, WFP.NMPROCESS, WFP.FGSLASTATUS, WFP.FGSTATUS, WFP.CDPROCESS, WFP.CDPROCESSMODEL, COALESCE(ADU.NMUSER, TBEXT.NMUSER) AS NMUSERSTART, GNT.NMGENTYPE AS NMOCCURRENCETYPE, GNT.CDGENTYPE AS CDOCCURRENCETYPE, GNRS.IDREVISIONSTATUS, GNRS.NMREVISIONSTATUS, GNRS.CDREVISIONSTATUS, GNR.NMEVALRESULT, GNR.CDEVALRESULT, COALESCE(PML.NMPROCESS, WFP.NMPROCESSMODEL) AS NMPROCESSMODEL, CASE WHEN WFP.CDEXTERNALUSERSTART IS NOT NULL THEN WFP.CDEXTERNALUSERSTART WHEN WFP.CDUSERSTART IS NOT NULL THEN WFP.CDUSERSTART ELSE NULL END AS CDUSERSTART, CASE WHEN WFP.CDEXTERNALUSERSTART IS NOT NULL THEN '#{303826}' WHEN WFP.CDUSERSTART IS NOT NULL THEN '#{305843}' ELSE NULL END AS TYPEUSER, CASE WHEN WFP.CDEXTERNALUSERSTART IS NOT NULL THEN 2 WHEN WFP.CDUSERSTART IS NOT NULL THEN 1 ELSE NULL END AS FGTYPEUSER, CASE WHEN WFP.FGCONCLUDEDSTATUS IS NOT NULL THEN (CASE WHEN WFP.FGCONCLUDEDSTATUS=1 THEN '#{100900}' WHEN WFP.FGCONCLUDEDSTATUS=2 THEN '#{100899}' END) ELSE (CASE WHEN (WFP.DTESTIMATEDFINISH > DATEADD(DAY, COALESCE((SELECT QTDAYS FROM ADMAILTASKEXEC WHERE CDMAILTASKEXEC=(SELECT TASK.CDAHEAD FROM ADMAILTASKREL TASK WHERE TASK.CDMAILTASKREL=(SELECT TBL.CDMAILTASKSETTINGS FROM CONOTIFICATION TBL))), 0), CAST(<!%TODAY%> AS DATETIME)) OR WFP.DTESTIMATEDFINISH IS NULL) THEN '#{100900}' WHEN (( WFP.DTESTIMATEDFINISH=CAST(<!%TODAY%> AS DATETIME) AND WFP.NRTIMEESTFINISH >= (datepart(minute, getdate()) + datepart(hour, getdate()) * 60)) OR WFP.DTESTIMATEDFINISH > CAST(<!%TODAY%> AS DATETIME)) THEN '#{201639}' ELSE '#{100899}' END) END AS NMDEADLINE, CASE WHEN WFP.FGCONCLUDEDSTATUS IS NOT NULL THEN (CASE WHEN WFP.FGCONCLUDEDSTATUS=1 THEN 1 WHEN WFP.FGCONCLUDEDSTATUS=2 THEN 3 END) ELSE (CASE WHEN (WFP.DTESTIMATEDFINISH > DATEADD(DAY, COALESCE((SELECT QTDAYS FROM ADMAILTASKEXEC WHERE CDMAILTASKEXEC=(SELECT TASK.CDAHEAD FROM ADMAILTASKREL TASK WHERE TASK.CDMAILTASKREL=(SELECT TBL.CDMAILTASKSETTINGS FROM CONOTIFICATION TBL))), 0), CAST(<!%TODAY%> AS DATETIME)) OR WFP.DTESTIMATEDFINISH IS NULL) THEN 1 WHEN (( WFP.DTESTIMATEDFINISH=CAST(<!%TODAY%> AS DATETIME) AND WFP.NRTIMEESTFINISH >= 481) OR WFP.DTESTIMATEDFINISH > CAST(<!%TODAY%> AS DATETIME)) THEN 2 ELSE 3 END) END AS FGDEADLINE, CASE WFP.FGSLASTATUS WHEN 10 THEN '#{218492}' WHEN 30 THEN '#{218493}' WHEN 40 THEN '#{218494}' END AS IDSLASTATUS, CASE WFP.FGSTATUS WHEN 1 THEN '#{103131}' WHEN 2 THEN '#{107788}' WHEN 3 THEN '#{104230}' WHEN 4 THEN '#{100667}' WHEN 5 THEN '#{200712}' END AS IDSITUATION, (SELECT MAX(SLAHIST.IDLEVEL) FROM GNSLACTRLHISTORY SLAHIST WHERE (SLAHIST.CDSLACONTROL=WFP.CDSLACONTROL AND SLAHIST.FGCURRENT=1)) AS IDLEVEL, PT.NMACTTYPE, PT.CDACTTYPE, GNREV.IDREVISION, CONVERT(DATETIME, SWITCHOFFSET(CAST(DATEADD(MINUTE, (CAST(SLACTRL.BNSLAFINISH AS BIGINT) / 1000)/60, '1970-01-01') AS DATETIMEOFFSET),'-03:00')) AS DTSLAFINISH, DATEADD(minute, WFP.NRTIMEESTFINISH, WFP.DTESTIMATEDFINISH) AS DTDEADLINEFIELD, CONVERT(DATETIME, WFP.DTSTART + ' ' + WFP.TMSTART, 120) AS DTSTART, CONVERT(DATETIME, WFP.DTFINISH + ' ' + WFP.TMFINISH, 120) AS DTFINISH, T0_OUTER.T0__TDS015_2, T0_OUTER.T0__TDS154_7, T0_OUTER.T0__TDS018_0, T0_OUTER.T0__TDS017_1, T0_OUTER.T0__TDS025_1, T0_OUTER.T0__TDS156_7, T0_OUTER.T0__TDS074_7, T0_OUTER.T0__TDS075_7, T0_OUTER.T0__TDS086_7, T0_OUTER.T0__TDS158_7, T0_OUTER.T0__TDS087_7, T0_OUTER.T0__TDS088_7, T0_OUTER.T0__TDS076_7, T0_OUTER.T0__TDS077_7, T0_OUTER.T0__TDS091_7, T0_OUTER.T0__TDS084_7, T0_OUTER.T0__TDS085_7, T0_OUTER.T0__TDS164_7, T0_OUTER.T0__TDS072_7, T0_OUTER.T0__TDS073_7, T0_OUTER.T0__TDS103_7, T0_OUTER.T0__TDS102_7, T0_OUTER.T0__TDS095_7, T0_OUTER.T0__TDS101_7, T0_OUTER.T0__TDS098_7, T0_OUTER.T0__TDS099_7, T0_OUTER.T0__TDS100_7, T0_OUTER.T0__TDS097_7, T0_OUTER.T0__TDS096_7, T0_OUTER.T0__TDS093_7, T0_OUTER.T0__TDS094_7, T0_OUTER.T0__TDS078_7, T0_OUTER.T0__TDS079_7, T0_OUTER.T0__TDS089_7, T0_OUTER.T0__TDS067_7, T0_OUTER.T0__TDS069_7, T0_OUTER.T0__TDS068_7, T0_OUTER.T0__TDS081_7, T0_OUTER.T0__TDS080_7, T0_OUTER.T0__TDS157_7, T0_OUTER.T0__TDS092_7, T0_OUTER.T0__TDS083_7, T0_OUTER.T0__TDS070_7, T0_OUTER.T0__TDS082_7, T0_OUTER.T0__TDS071_7, T0_OUTER.T0__TDS090_7, T0_OUTER.T0__TDS159_7, T0_OUTER.T0__TDS122_7, T0_OUTER.T0__TDS123_7, T0_OUTER.T0__TDS134_7, T0_OUTER.T0__TDS161_7, T0_OUTER.T0__TDS135_7, T0_OUTER.T0__TDS136_7, T0_OUTER.T0__TDS124_7, T0_OUTER.T0__TDS125_7, T0_OUTER.T0__TDS139_7, T0_OUTER.T0__TDS132_7, T0_OUTER.T0__TDS133_7, T0_OUTER.T0__TDS165_7, T0_OUTER.T0__TDS120_7, T0_OUTER.T0__TDS121_7, T0_OUTER.T0__TDS150_7, T0_OUTER.T0__TDS143_7, T0_OUTER.T0__TDS149_7, T0_OUTER.T0__TDS146_7, T0_OUTER.T0__TDS147_7, T0_OUTER.T0__TDS148_7, T0_OUTER.T0__TDS145_7, T0_OUTER.T0__TDS144_7, T0_OUTER.T0__TDS141_7, T0_OUTER.T0__TDS142_7, T0_OUTER.T0__TDS126_7, T0_OUTER.T0__TDS127_7, T0_OUTER.T0__TDS137_7, T0_OUTER.T0__TDS115_7, T0_OUTER.T0__TDS117_7, T0_OUTER.T0__TDS116_7, T0_OUTER.T0__TDS129_7, T0_OUTER.T0__TDS128_7, T0_OUTER.T0__TDS160_7, T0_OUTER.T0__TDS140_7, T0_OUTER.T0__TDS131_7, T0_OUTER.T0__TDS118_7, T0_OUTER.T0__TDS130_7, T0_OUTER.T0__TDS119_7, T0_OUTER.T0__TDS138_7, T0_OUTER.T0__TDS151_7, T0_OUTER.T0__TDS022_2, T0_OUTER.T0__TDS013_7, T0_OUTER.T0__TDS004_3, T0_OUTER.T0__TDS169_2, T0_OUTER.T0__TDS023_2, T0_OUTER.T0__TDS152_0, T0_OUTER.T0__TDS016_3, T0_OUTER.T0__TDS026_6, T0_OUTER.T0__TDS021_0, T0_OUTER.T0__TDS020_0, T0_OUTER.T0__TDS110_0, T0_OUTER.T0__TDS114_0, T0_OUTER.T0__TDS113_0, T0_OUTER.T0__TDS111_0, T0_OUTER.T0__TDS019_0, T0_OUTER.T0__TDS006_6, T0_OUTER.T0__TDS005_6, T0_OUTER.T0__TDS003_7, T0_OUTER.T0__TDS105_7, T0_OUTER.T0__TDS001_7, T0_OUTER.T0__TDS112_3, T0_OUTER.T0__TDS170_0, T0_OUTER.T0__TDS024_3, T0_OUTER.T0__TDS107_3, T0_OUTER.T0__TDS010_2, T0_OUTER.T0__TDS002_1, T0_OUTER.T0__TDS007_1, T0_OUTER.T0__TDS109_3, T0_OUTER.T0__TDS155_7, T0_OUTER.T0__TDS168_3, T0_OUTER.T0__TDS012_7, T0_OUTER.T0__TDS166_2, T0_OUTER.T0__TDS106_7, T0_OUTER.T0__TDS167_1, T0_OUTER.T0__TDS153_7, T0_OUTER.T0__TDS163_7, T0_OUTER.T0__TDS008_2, T0_OUTER.T0__TDS009_2, T0_OUTER.T0__TDS108_3, T0_OUTER.T0__TDS041_7, T0_OUTER.T0__TDS040_7, T0_OUTER.T0__TDS042_7, T0_OUTER.T0__TDS052_7, T0_OUTER.T0__TDS062_7, T0_OUTER.T0__TDS063_7, T0_OUTER.T0__TDS049_7, T0_OUTER.T0__TDS050_7, T0_OUTER.T0__TDS064_7, T0_OUTER.T0__TDS031_7, T0_OUTER.T0__TDS032_7, T0_OUTER.T0__TDS033_7, T0_OUTER.T0__TDS059_7, T0_OUTER.T0__TDS061_7, T0_OUTER.T0__TDS053_7, T0_OUTER.T0__TDS054_7, T0_OUTER.T0__TDS044_7, T0_OUTER.T0__TDS043_7, T0_OUTER.T0__TDS057_7, T0_OUTER.T0__TDS058_7, T0_OUTER.T0__TDS028_7, T0_OUTER.T0__TDS029_7, T0_OUTER.T0__TDS030_7, T0_OUTER.T0__TDS027_7, T0_OUTER.T0__TDS104_7, T0_OUTER.T0__TDS065_7, T0_OUTER.T0__TDS066_7, T0_OUTER.T0__TDS047_7, T0_OUTER.T0__TDS048_7, T0_OUTER.T0__TDS034_7, T0_OUTER.T0__TDS035_7, T0_OUTER.T0__TDS037_7, T0_OUTER.T0__TDS036_7, T0_OUTER.T0__TDS046_7, T0_OUTER.T0__TDS060_7, T0_OUTER.T0__TDS045_7, T0_OUTER.T0__TDS039_7, T0_OUTER.T0__TDS038_7, T0_OUTER.T0__TDS056_7, T0_OUTER.T0__TDS055_7, T0_OUTER.T0__TDS051_7, T0_OUTER.T0__TDS162_1, T0_OUTER.T0__TDS011_7, T0_OUTER.T0_R0_TBS001_1, T0_OUTER.T0_R1_TBS001_1, T0_OUTER.T0_R2_TBS001_1 FROM WFPROCESS WFP INNER JOIN INOCCURRENCE INOCCUR ON (INOCCUR.IDWORKFLOW=WFP.IDOBJECT AND INOCCUR.FGOCCURRENCETYPE=1) LEFT JOIN GNGENTYPE GNT ON (GNT.CDGENTYPE=INOCCUR.CDOCCURRENCETYPE) LEFT JOIN GNREVISION GNREV ON (GNREV.CDREVISION=WFP.CDREVISION) LEFT JOIN ADUSER ADU ON (ADU.CDUSER=WFP.CDUSERSTART) LEFT JOIN (SELECT ADEU.CDEXTERNALUSER, ADEU.NMUSER, ADC.NMCOMPANY FROM ADEXTERNALUSER ADEU INNER JOIN ADCOMPANY ADC ON (ADEU.CDCOMPANY=ADC.CDCOMPANY)) TBEXT ON (TBEXT.CDEXTERNALUSER=WFP.CDEXTERNALUSERSTART) LEFT JOIN GNREVISIONSTATUS GNRS ON (GNRS.CDREVISIONSTATUS=WFP.CDSTATUS) LEFT JOIN GNEVALRESULTUSED GNRUS ON (GNRUS.CDEVALRESULTUSED=WFP.CDEVALRSLTPRIORITY) LEFT JOIN GNEVALRESULT GNR ON (GNR.CDEVALRESULT=GNRUS.CDEVALRESULT) LEFT JOIN GNSLACONTROL SLACTRL ON (SLACTRL.CDSLACONTROL=WFP.CDSLACONTROL) LEFT JOIN PMACTIVITY PP ON (PP.CDACTIVITY=WFP.CDPROCESSMODEL) LEFT JOIN PMACTTYPE PT ON (PT.CDACTTYPE=PP.CDACTTYPE) LEFT JOIN PMACTREVISION PMACT ON (( PMACT.CDACTIVITY=WFP.CDPROCESSMODEL AND PMACT.FGCURRENT=1)) LEFT JOIN PMPROCESSLANGUAGE PML ON (( PML.CDPROCESS=PMACT.CDACTIVITY AND PML.CDREVISION=PMACT.CDREVISION AND PML.FGENABLED=1 AND PML.FGLANGUAGE=2)) INNER JOIN (SELECT DISTINCT Z.IDOBJECT FROM (SELECT AUXWFP.IDOBJECT FROM WFPROCESS AUXWFP INNER JOIN (SELECT PERM.USERCD, PERM.IDPROCESS, MIN(PERM.FGPERMISSION) AS FGPERMISSION FROM (SELECT WF.FGPERMISSION, WF.IDPROCESS, TM.CDUSER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF INNER JOIN ADTEAMUSER TM ON (WF.CDTEAM=TM.CDTEAM) WHERE (WF.FGACCESSTYPE=1 AND TM.CDUSER=17123 AND WF.FGACCESSEXCEPTION IS NULL) UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, UDP.CDUSER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF INNER JOIN ADUSERDEPTPOS UDP ON (WF.CDDEPARTMENT=UDP.CDDEPARTMENT) WHERE (WF.FGACCESSTYPE=2 AND UDP.CDUSER=17123 AND WF.FGACCESSEXCEPTION IS NULL) UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, UDP.CDUSER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF INNER JOIN ADUSERDEPTPOS UDP ON (WF.CDDEPARTMENT=UDP.CDDEPARTMENT AND WF.CDPOSITION=UDP.CDPOSITION) WHERE (WF.FGACCESSTYPE=3 AND UDP.CDUSER=17123 AND WF.FGACCESSEXCEPTION IS NULL) UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, UDP.CDUSER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF INNER JOIN ADUSERDEPTPOS UDP ON (WF.CDPOSITION=UDP.CDPOSITION) WHERE (WF.FGACCESSTYPE=4 AND UDP.CDUSER=17123 AND WF.FGACCESSEXCEPTION IS NULL) UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, WF.CDUSER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF WHERE (WF.FGACCESSTYPE=5 AND WF.CDUSER=17123 AND WF.FGACCESSEXCEPTION IS NULL) UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, US.CDUSER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF CROSS JOIN ADUSER US WHERE (WF.FGACCESSTYPE=6 AND US.CDUSER=17123 AND WF.FGACCESSEXCEPTION IS NULL) UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, RL.CDUSER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF INNER JOIN ADUSERROLE RL ON (WF.CDROLE=RL.CDROLE) WHERE (WF.FGACCESSTYPE=7 AND RL.CDUSER=17123 AND WF.FGACCESSEXCEPTION IS NULL) UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, WFP.CDUSERSTART AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF INNER JOIN WFPROCESS WFP ON (WF.IDPROCESS=WFP.IDOBJECT) WHERE (WF.FGACCESSTYPE=30 AND WFP.CDUSERSTART=17123 AND WF.FGACCESSEXCEPTION IS NULL) UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, US.CDLEADER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF INNER JOIN WFPROCESS WFP ON (WF.IDPROCESS=WFP.IDOBJECT) INNER JOIN ADUSER US ON (WFP.CDUSERSTART=US.CDUSER) WHERE (WF.FGACCESSTYPE=31 AND US.CDLEADER=17123 AND WF.FGACCESSEXCEPTION IS NULL)) PERM INNER JOIN WFPROCSECURITYCTRL GNASSOC ON (PERM.CDACCESSLIST=GNASSOC.CDACCESSLIST AND PERM.IDPROCESS=GNASSOC.IDPROCESS) WHERE (GNASSOC.CDACCESSROLEFIELD IN (501)) GROUP BY PERM.USERCD, PERM.IDPROCESS) PERMISSION ON (AUXWFP.IDOBJECT=PERMISSION.IDPROCESS) WHERE (PERMISSION.FGPERMISSION=1 AND AUXWFP.FGSTATUS <= 5 AND (AUXWFP.FGMODELWFSECURITY IS NULL OR AUXWFP.FGMODELWFSECURITY=0)) UNION ALL SELECT T.IDOBJECT FROM (SELECT MIN(PERM99.FGPERMISSION) AS FGPERMISSION, PERM99.IDOBJECT FROM (SELECT WFP.IDOBJECT, PERM1.FGPERMISSION FROM (SELECT PP.FGPERMISSION, PP.CDPROC, PP.CDACCESSLIST, TM.CDUSER AS USERCD FROM PMPROCACCESSLIST PP INNER JOIN ADTEAMUSER TM ON (PP.CDTEAM=TM.CDTEAM) WHERE (PP.FGACCESSTYPE=1 AND TM.CDUSER=17123) UNION ALL SELECT PP.FGPERMISSION, PP.CDPROC, PP.CDACCESSLIST, UDP.CDUSER AS USERCD FROM PMPROCACCESSLIST PP INNER JOIN ADUSERDEPTPOS UDP ON (PP.CDDEPARTMENT=UDP.CDDEPARTMENT) WHERE (PP.FGACCESSTYPE=2 AND UDP.CDUSER=17123) UNION ALL SELECT PP.FGPERMISSION, PP.CDPROC, PP.CDACCESSLIST, UDP.CDUSER AS USERCD FROM PMPROCACCESSLIST PP INNER JOIN ADUSERDEPTPOS UDP ON (PP.CDDEPARTMENT=UDP.CDDEPARTMENT AND PP.CDPOSITION=UDP.CDPOSITION) WHERE (PP.FGACCESSTYPE=3 AND UDP.CDUSER=17123) UNION ALL SELECT PP.FGPERMISSION, PP.CDPROC, PP.CDACCESSLIST, UDP.CDUSER AS USERCD FROM PMPROCACCESSLIST PP INNER JOIN ADUSERDEPTPOS UDP ON (PP.CDPOSITION=UDP.CDPOSITION) WHERE (PP.FGACCESSTYPE=4 AND UDP.CDUSER=17123) UNION ALL SELECT PP.FGPERMISSION, PP.CDPROC, PP.CDACCESSLIST, PP.CDUSER AS USERCD FROM PMPROCACCESSLIST PP WHERE (PP.FGACCESSTYPE=5 AND PP.CDUSER=17123) UNION ALL SELECT PP.FGPERMISSION, PP.CDPROC, PP.CDACCESSLIST, US.CDUSER AS USERCD FROM PMPROCACCESSLIST PP CROSS JOIN ADUSER US WHERE (PP.FGACCESSTYPE=6 AND US.CDUSER=17123) UNION ALL SELECT PP.FGPERMISSION, PP.CDPROC, PP.CDACCESSLIST, RL.CDUSER AS USERCD FROM PMPROCACCESSLIST PP INNER JOIN ADUSERROLE RL ON (PP.CDROLE=RL.CDROLE) WHERE (PP.FGACCESSTYPE=7 AND RL.CDUSER=17123)) PERM1 INNER JOIN PMPROCSECURITYCTRL GNASSOC ON (PERM1.CDACCESSLIST=GNASSOC.CDACCESSLIST AND PERM1.CDPROC=GNASSOC.CDPROC) INNER JOIN PMACCESSROLEFIELD GNCTRL ON (GNASSOC.CDACCESSROLEFIELD=GNCTRL.CDACCESSROLEFIELD) INNER JOIN PMACTIVITY OBJ ON (GNASSOC.CDPROC=OBJ.CDACTIVITY) INNER JOIN WFPROCESS WFP ON (PERM1.CDPROC=WFP.CDPROCESSMODEL) WHERE (GNCTRL.CDRELATEDFIELD IN (501) AND (OBJ.FGUSETYPEACCESS=0 OR OBJ.FGUSETYPEACCESS IS NULL) AND WFP.FGMODELWFSECURITY=1 AND WFP.FGSTATUS <= 5) UNION ALL SELECT PERM2.IDOBJECT, PERM2.FGPERMISSION FROM (SELECT PP.FGPERMISSION, WFP.IDOBJECT, PP.CDPROC, PP.CDACCESSLIST, WFP.CDUSERSTART AS USERCD FROM PMPROCACCESSLIST PP INNER JOIN WFPROCESS WFP ON (PP.CDPROC=WFP.CDPROCESSMODEL) WHERE (PP.FGACCESSTYPE=30 AND WFP.CDUSERSTART=17123 AND WFP.FGMODELWFSECURITY=1 AND WFP.FGSTATUS <= 5) UNION ALL SELECT PP.FGPERMISSION, WFP.IDOBJECT, PP.CDPROC, PP.CDACCESSLIST, US.CDLEADER AS USERCD FROM PMPROCACCESSLIST PP INNER JOIN WFPROCESS WFP ON (PP.CDPROC=WFP.CDPROCESSMODEL) INNER JOIN ADUSER US ON (WFP.CDUSERSTART=US.CDUSER) WHERE (PP.FGACCESSTYPE=31 AND US.CDLEADER=17123 AND WFP.FGMODELWFSECURITY=1 AND WFP.FGSTATUS <= 5)) PERM2 INNER JOIN PMPROCSECURITYCTRL GNASSOC ON (PERM2.CDACCESSLIST=GNASSOC.CDACCESSLIST AND PERM2.CDPROC=GNASSOC.CDPROC) INNER JOIN PMACCESSROLEFIELD GNCTRL ON (GNASSOC.CDACCESSROLEFIELD=GNCTRL.CDACCESSROLEFIELD) INNER JOIN PMACTIVITY OBJ ON (GNASSOC.CDPROC=OBJ.CDACTIVITY) WHERE (GNCTRL.CDRELATEDFIELD IN (501) AND (OBJ.FGUSETYPEACCESS=0 OR OBJ.FGUSETYPEACCESS IS NULL))) PERM99 WHERE 1=1 GROUP BY PERM99.IDOBJECT) T WHERE (T.FGPERMISSION=1) UNION ALL SELECT PERM.IDOBJECT FROM (SELECT WFP.IDOBJECT FROM (SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN ADTEAMUSER TM ON (PM.CDTEAM=TM.CDTEAM) WHERE (PM.FGACCESSTYPE=1 AND TM.CDUSER=17123) UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN ADUSERDEPTPOS UDP ON (PM.CDDEPARTMENT=UDP.CDDEPARTMENT) WHERE (PM.FGACCESSTYPE=2 AND UDP.CDUSER=17123) UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN ADUSERDEPTPOS UDP ON (PM.CDDEPARTMENT=UDP.CDDEPARTMENT AND PM.CDPOSITION=UDP.CDPOSITION) WHERE (PM.FGACCESSTYPE=3 AND UDP.CDUSER=17123) UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN ADUSERDEPTPOS UDP ON (PM.CDPOSITION=UDP.CDPOSITION) WHERE (PM.FGACCESSTYPE=4 AND UDP.CDUSER=17123) UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM WHERE (PM.FGACCESSTYPE=5 AND PM.CDUSER=17123) UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM WHERE (PM.FGACCESSTYPE=6) UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN ADUSERROLE RL ON (PM.CDROLE=RL.CDROLE) WHERE (PM.FGACCESSTYPE=7 AND RL.CDUSER=17123)) PERM1 INNER JOIN PMACTTYPESECURCTRL GNASSOC ON (PERM1.CDACCESSLIST=GNASSOC.CDACCESSLIST AND PERM1.CDACTTYPE=GNASSOC.CDACTTYPE) INNER JOIN PMACCESSROLEFIELD GNCTRL ON (GNASSOC.CDACCESSROLEFIELD=GNCTRL.CDACCESSROLEFIELD) INNER JOIN PMACCESSROLEFIELD GNCTRL_F ON (GNCTRL.CDRELATEDFIELD=GNCTRL_F.CDACCESSROLEFIELD) INNER JOIN PMACTIVITY PMA ON (PERM1.CDACTTYPE=PMA.CDACTTYPE) INNER JOIN WFPROCESS WFP ON (PMA.CDACTIVITY=WFP.CDPROCESSMODEL) WHERE (GNCTRL_F.CDRELATEDFIELD IN (501) AND WFP.FGSTATUS <= 5 AND PMA.FGUSETYPEACCESS=1 AND WFP.FGMODELWFSECURITY=1) UNION ALL SELECT WFP.IDOBJECT FROM (SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN PMACTIVITY PMA ON (PM.CDACTTYPE=PMA.CDACTTYPE) WHERE (PM.FGACCESSTYPE=8 AND PMA.CDCREATEDBY=17123) UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN PMACTIVITY PMA ON (PM.CDACTTYPE=PMA.CDACTTYPE) INNER JOIN ADUSERDEPTPOS DEP1 ON (PMA.CDCREATEDBY=DEP1.CDUSER) INNER JOIN ADUSERDEPTPOS DEP2 ON (DEP1.CDDEPARTMENT=DEP2.CDDEPARTMENT) WHERE (PM.FGACCESSTYPE=9 AND DEP2.CDUSER=17123) UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN PMACTIVITY PMA ON (PM.CDACTTYPE=PMA.CDACTTYPE) INNER JOIN ADUSERDEPTPOS DEP1 ON (PMA.CDCREATEDBY=DEP1.CDUSER) INNER JOIN ADUSERDEPTPOS DEP2 ON (DEP1.CDDEPARTMENT=DEP2.CDDEPARTMENT AND DEP1.CDPOSITION=DEP2.CDPOSITION) WHERE (PM.FGACCESSTYPE=10 AND DEP2.CDUSER=17123) UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN PMACTIVITY PMA ON (PM.CDACTTYPE=PMA.CDACTTYPE) INNER JOIN ADUSERDEPTPOS DEP1 ON (PMA.CDCREATEDBY=DEP1.CDUSER) INNER JOIN ADUSERDEPTPOS DEP2 ON (DEP1.CDPOSITION=DEP2.CDPOSITION) WHERE (PM.FGACCESSTYPE=11 AND DEP2.CDUSER=17123) UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN PMACTIVITY PMA ON (PM.CDACTTYPE=PMA.CDACTTYPE) INNER JOIN ADUSER US ON (PMA.CDCREATEDBY=US.CDUSER) WHERE (PM.FGACCESSTYPE=12 AND US.CDLEADER=17123)) PERM2 INNER JOIN PMACTTYPESECURCTRL GNASSOC ON (PERM2.CDACCESSLIST=GNASSOC.CDACCESSLIST AND PERM2.CDACTTYPE=GNASSOC.CDACTTYPE) INNER JOIN PMACCESSROLEFIELD GNCTRL ON (GNASSOC.CDACCESSROLEFIELD=GNCTRL.CDACCESSROLEFIELD) INNER JOIN PMACCESSROLEFIELD GNCTRL_F ON (GNCTRL.CDRELATEDFIELD=GNCTRL_F.CDACCESSROLEFIELD) INNER JOIN PMACTIVITY PMA ON (PERM2.CDACTTYPE=PMA.CDACTTYPE) INNER JOIN WFPROCESS WFP ON (PMA.CDACTIVITY=WFP.CDPROCESSMODEL) WHERE (GNCTRL_F.CDRELATEDFIELD IN (501) AND WFP.FGSTATUS <= 5 AND PMA.FGUSETYPEACCESS=1 AND WFP.FGMODELWFSECURITY=1) UNION ALL SELECT PERM3.IDOBJECT FROM (SELECT PM.CDACTTYPE, PM.CDACCESSLIST, WFP.IDOBJECT FROM PMACTTYPESECURLIST PM INNER JOIN PMACTIVITY PMA ON (PM.CDACTTYPE=PMA.CDACTTYPE) INNER JOIN WFPROCESS WFP ON (PMA.CDACTIVITY=WFP.CDPROCESSMODEL) WHERE (PM.FGACCESSTYPE=30 AND WFP.CDUSERSTART=17123 AND WFP.FGSTATUS <= 5 AND WFP.FGMODELWFSECURITY=1) UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST, WFP.IDOBJECT FROM PMACTTYPESECURLIST PM INNER JOIN PMACTIVITY PMA ON (PM.CDACTTYPE=PMA.CDACTTYPE) INNER JOIN WFPROCESS WFP ON (PMA.CDACTIVITY=WFP.CDPROCESSMODEL) INNER JOIN ADUSER US ON (WFP.CDUSERSTART=US.CDUSER) WHERE (PM.FGACCESSTYPE=31 AND US.CDLEADER=17123 AND WFP.FGSTATUS <= 5 AND WFP.FGMODELWFSECURITY=1)) PERM3 INNER JOIN PMACTTYPESECURCTRL GNASSOC ON (PERM3.CDACCESSLIST=GNASSOC.CDACCESSLIST AND PERM3.CDACTTYPE=GNASSOC.CDACTTYPE) INNER JOIN PMACCESSROLEFIELD GNCTRL ON (GNASSOC.CDACCESSROLEFIELD=GNCTRL.CDACCESSROLEFIELD) INNER JOIN PMACCESSROLEFIELD GNCTRL_F ON (GNCTRL.CDRELATEDFIELD=GNCTRL_F.CDACCESSROLEFIELD) INNER JOIN PMACTIVITY PMA ON (PERM3.CDACTTYPE=PMA.CDACTTYPE) WHERE (GNCTRL_F.CDRELATEDFIELD IN (501) AND PMA.FGUSETYPEACCESS=1)) PERM UNION ALL SELECT AUXWFP.IDOBJECT FROM WFPROCESS AUXWFP INNER JOIN WFPROCSECURITYLIST WFLIST ON (AUXWFP.IDOBJECT=WFLIST.IDPROCESS) INNER JOIN WFPROCSECURITYCTRL WFCTRL ON (WFLIST.CDACCESSLIST=WFCTRL.CDACCESSLIST AND WFLIST.IDPROCESS=WFCTRL.IDPROCESS) WHERE (WFCTRL.CDACCESSROLEFIELD IN (501) AND WFLIST.CDUSER=17123 AND WFLIST.FGACCESSTYPE=5 AND WFLIST.FGACCESSEXCEPTION=1 AND WFLIST.FGPERMISSION=1 AND AUXWFP.FGSTATUS <= 5)) Z) MYPERM ON (WFP.IDOBJECT=MYPERM.IDOBJECT) LEFT JOIN (SELECT FORMREG.CDASSOC, T0.TDS015 AS T0__TDS015_2, T0.TDS154 AS T0__TDS154_7, T0.TDS018 AS T0__TDS018_0, T0.TDS017 AS T0__TDS017_1, T0.TDS025 AS T0__TDS025_1, T0.TDS156 AS T0__TDS156_7, T0.TDS074 AS T0__TDS074_7, T0.TDS075 AS T0__TDS075_7, T0.TDS086 AS T0__TDS086_7, T0.TDS158 AS T0__TDS158_7, T0.TDS087 AS T0__TDS087_7, T0.TDS088 AS T0__TDS088_7, T0.TDS076 AS T0__TDS076_7, T0.TDS077 AS T0__TDS077_7, T0.TDS091 AS T0__TDS091_7, T0.TDS084 AS T0__TDS084_7, T0.TDS085 AS T0__TDS085_7, T0.TDS164 AS T0__TDS164_7, T0.TDS072 AS T0__TDS072_7, T0.TDS073 AS T0__TDS073_7, T0.TDS103 AS T0__TDS103_7, T0.TDS102 AS T0__TDS102_7, T0.TDS095 AS T0__TDS095_7, T0.TDS101 AS T0__TDS101_7, T0.TDS098 AS T0__TDS098_7, T0.TDS099 AS T0__TDS099_7, T0.TDS100 AS T0__TDS100_7, T0.TDS097 AS T0__TDS097_7, T0.TDS096 AS T0__TDS096_7, T0.TDS093 AS T0__TDS093_7, T0.TDS094 AS T0__TDS094_7, T0.TDS078 AS T0__TDS078_7, T0.TDS079 AS T0__TDS079_7, T0.TDS089 AS T0__TDS089_7, T0.TDS067 AS T0__TDS067_7, T0.TDS069 AS T0__TDS069_7, T0.TDS068 AS T0__TDS068_7, T0.TDS081 AS T0__TDS081_7, T0.TDS080 AS T0__TDS080_7, T0.TDS157 AS T0__TDS157_7, T0.TDS092 AS T0__TDS092_7, T0.TDS083 AS T0__TDS083_7, T0.TDS070 AS T0__TDS070_7, T0.TDS082 AS T0__TDS082_7, T0.TDS071 AS T0__TDS071_7, T0.TDS090 AS T0__TDS090_7, T0.TDS159 AS T0__TDS159_7, T0.TDS122 AS T0__TDS122_7, T0.TDS123 AS T0__TDS123_7, T0.TDS134 AS T0__TDS134_7, T0.TDS161 AS T0__TDS161_7, T0.TDS135 AS T0__TDS135_7, T0.TDS136 AS T0__TDS136_7, T0.TDS124 AS T0__TDS124_7, T0.TDS125 AS T0__TDS125_7, T0.TDS139 AS T0__TDS139_7, T0.TDS132 AS T0__TDS132_7, T0.TDS133 AS T0__TDS133_7, T0.TDS165 AS T0__TDS165_7, T0.TDS120 AS T0__TDS120_7, T0.TDS121 AS T0__TDS121_7, T0.TDS150 AS T0__TDS150_7, T0.TDS143 AS T0__TDS143_7, T0.TDS149 AS T0__TDS149_7, T0.TDS146 AS T0__TDS146_7, T0.TDS147 AS T0__TDS147_7, T0.TDS148 AS T0__TDS148_7, T0.TDS145 AS T0__TDS145_7, T0.TDS144 AS T0__TDS144_7, T0.TDS141 AS T0__TDS141_7, T0.TDS142 AS T0__TDS142_7, T0.TDS126 AS T0__TDS126_7, T0.TDS127 AS T0__TDS127_7, T0.TDS137 AS T0__TDS137_7, T0.TDS115 AS T0__TDS115_7, T0.TDS117 AS T0__TDS117_7, T0.TDS116 AS T0__TDS116_7, T0.TDS129 AS T0__TDS129_7, T0.TDS128 AS T0__TDS128_7, T0.TDS160 AS T0__TDS160_7, T0.TDS140 AS T0__TDS140_7, T0.TDS131 AS T0__TDS131_7, T0.TDS118 AS T0__TDS118_7, T0.TDS130 AS T0__TDS130_7, T0.TDS119 AS T0__TDS119_7, T0.TDS138 AS T0__TDS138_7, T0.TDS151 AS T0__TDS151_7, T0.TDS022 AS T0__TDS022_2, T0.TDS013 AS T0__TDS013_7, T0.TDS004 AS T0__TDS004_3, T0.TDS169 AS T0__TDS169_2, T0.TDS023 AS T0__TDS023_2, T0.TDS152 AS T0__TDS152_0, T0.TDS016 AS T0__TDS016_3, T0.TDS026 AS T0__TDS026_6, T0.TDS021 AS T0__TDS021_0, T0.TDS020 AS T0__TDS020_0, T0.TDS110 AS T0__TDS110_0, T0.TDS114 AS T0__TDS114_0, T0.TDS113 AS T0__TDS113_0, T0.TDS111 AS T0__TDS111_0, T0.TDS019 AS T0__TDS019_0, T0.TDS006 AS T0__TDS006_6, T0.TDS005 AS T0__TDS005_6, T0.TDS003 AS T0__TDS003_7, T0.TDS105 AS T0__TDS105_7, T0.TDS001 AS T0__TDS001_7, T0.TDS112 AS T0__TDS112_3, T0.TDS170 AS T0__TDS170_0, T0.TDS024 AS T0__TDS024_3, T0.TDS107 AS T0__TDS107_3, T0.TDS010 AS T0__TDS010_2, T0.TDS002 AS T0__TDS002_1, T0.TDS007 AS T0__TDS007_1, T0.TDS109 AS T0__TDS109_3, T0.TDS155 AS T0__TDS155_7, T0.TDS168 AS T0__TDS168_3, T0.TDS012 AS T0__TDS012_7, T0.TDS166 AS T0__TDS166_2, T0.TDS106 AS T0__TDS106_7, T0.TDS167 AS T0__TDS167_1, T0.TDS153 AS T0__TDS153_7, T0.TDS163 AS T0__TDS163_7, T0.TDS008 AS T0__TDS008_2, T0.TDS009 AS T0__TDS009_2, T0.TDS108 AS T0__TDS108_3, T0.TDS041 AS T0__TDS041_7, T0.TDS040 AS T0__TDS040_7, T0.TDS042 AS T0__TDS042_7, T0.TDS052 AS T0__TDS052_7, T0.TDS062 AS T0__TDS062_7, T0.TDS063 AS T0__TDS063_7, T0.TDS049 AS T0__TDS049_7, T0.TDS050 AS T0__TDS050_7, T0.TDS064 AS T0__TDS064_7, T0.TDS031 AS T0__TDS031_7, T0.TDS032 AS T0__TDS032_7, T0.TDS033 AS T0__TDS033_7, T0.TDS059 AS T0__TDS059_7, T0.TDS061 AS T0__TDS061_7, T0.TDS053 AS T0__TDS053_7, T0.TDS054 AS T0__TDS054_7, T0.TDS044 AS T0__TDS044_7, T0.TDS043 AS T0__TDS043_7, T0.TDS057 AS T0__TDS057_7, T0.TDS058 AS T0__TDS058_7, T0.TDS028 AS T0__TDS028_7, T0.TDS029 AS T0__TDS029_7, T0.TDS030 AS T0__TDS030_7, T0.TDS027 AS T0__TDS027_7, T0.TDS104 AS T0__TDS104_7, T0.TDS065 AS T0__TDS065_7, T0.TDS066 AS T0__TDS066_7, T0.TDS047 AS T0__TDS047_7, T0.TDS048 AS T0__TDS048_7, T0.TDS034 AS T0__TDS034_7, T0.TDS035 AS T0__TDS035_7, T0.TDS037 AS T0__TDS037_7, T0.TDS036 AS T0__TDS036_7, T0.TDS046 AS T0__TDS046_7, T0.TDS060 AS T0__TDS060_7, T0.TDS045 AS T0__TDS045_7, T0.TDS039 AS T0__TDS039_7, T0.TDS038 AS T0__TDS038_7, T0.TDS056 AS T0__TDS056_7, T0.TDS055 AS T0__TDS055_7, T0.TDS051 AS T0__TDS051_7, T0.TDS162 AS T0__TDS162_1, T0.TDS011 AS T0__TDS011_7, R0.TBS001 AS T0_R0_TBS001_1, R1.TBS001 AS T0_R1_TBS001_1, R2.TBS001 AS T0_R2_TBS001_1 FROM GNASSOCFORMREG FORMREG INNER JOIN DYNtds015 T0 ON (T0.OID=FORMREG.OIDENTITYREG) LEFT JOIN DYNtbs001 R0 ON (T0.OIDABCVrhABCPrY=R0.OID) LEFT JOIN DYNtbs039 R1 ON (T0.OIDABCk8DABCghk=R1.OID) LEFT JOIN DYNtbs039 R2 ON (T0.OIDABC9U4WFIJA0MBS=R2.OID)) T0_OUTER ON (T0_OUTER.CDASSOC=WFP.CDASSOCREG) WHERE (WFP.CDPRODAUTOMATION=160 AND WFP.FGSTATUS <= 5 AND (GNT.CDTYPEROLE IS NULL OR EXISTS (SELECT NULL FROM (SELECT CHKUSRPERMTYPEROLE.CDTYPEROLE AS CDTYPEROLE, CHKUSRPERMTYPEROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE 1=1 AND PM.CDUSER <> -1 AND PM.CDPERMISSION=5 /* Nao retirar este comentario */UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM CROSS JOIN ADUSER US WHERE 1=1 AND PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) CHKUSRPERMTYPEROLE GROUP BY CHKUSRPERMTYPEROLE.CDTYPEROLE, CHKUSRPERMTYPEROLE.CDUSER HAVING MAX(CHKUSRPERMTYPEROLE.FGPERMISSIONTYPE)=1) CHKPERMTYPEROLE WHERE CHKPERMTYPEROLE.CDTYPEROLE=GNT.CDTYPEROLE AND (CHKPERMTYPEROLE.CDUSER=17123 OR 17123=-1))) AND GNT.CDGENTYPE IN (221))) TEMPTB0) TEMPTB1
