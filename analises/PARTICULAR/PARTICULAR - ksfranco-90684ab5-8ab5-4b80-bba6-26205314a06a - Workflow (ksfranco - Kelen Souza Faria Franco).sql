SELECT IDPROCESS,NMPROCESS,NMPROCESSMODEL,NMOCCURRENCETYPE,IDSLASTATUS,IDLEVEL,NMDEADLINE,DTSTART,IDSITUATION,NMEVALRESULT,NMUSERSTART,TYPEUSER,IDREVISIONSTATUS,NMREVISIONSTATUS,DTDEADLINEFIELD,IDPROCESSTYPE,IDREVISION,DTFINISH,DTSLAFINISH,FGDEADLINE,FGSLASTATUS,FGSTATUS,FGTYPEUSER,T0__CRP019_7,T0__CRP017_7,T0__CRP024_7,T0__CRP021_7,T0__CRP018_7,T0__CRP025_7,T0__CRP026_2,T0__CRP020_7,T0__CRP022_7,T0__CRP012_1,T0__CRP119_1,T0__CRP004_1,T0__CRP009_1,T0__CRP009A_1,T0__CRP061_1,T0__CRP066_1,T0__CRP126_1,T0__CRP121_1,T0__CRP122_1,T0__CRP114_1,T0__CRP118_1,T0__CRP112_1,T0__CRP069_1,T0__CRP117_1,T0__CRP113_1,T0__CRP068_6,T0__CRP007_6,T0__CRP016_6,T0__CRP104_6,T0__CRP010_1,T0__CRP003_1,T0__CRP059_2,T0__CRO049_1,T0__CRP058_1,T0__CRP046_1,T0__CRP046A_1,T0__CRP049_6,T0__CRP047_1,T0__CRP057_1,T0__CRP074_1,T0__CRP044_1,T0__CRP043_1,T0__CRP050_2,T0__CRP048_1,T0__CRP045_1,T0__CRP051_1,T0__CRP006_1,T0__CRP042_1,T0__CRP115_1,T0__CRP236_1,T0__CRP237_1,T0__CRP238_1,T0__CRP028_2,T0__CRP052_1,T0__CRP031_1,T0__CRP036_1,T0__CRP055_1,T0__CRP055A_1,T0__CRP056_1,T0__CRP056A_1,T0__CRP110_6,T0__CRP032_1,T0__CRP037_1,T0__CRP053_1,T0__CRP054_1,T0__CRP072_1,T0__CRP073_1,T0__CRP034_1,T0__CRP039_1,T0__CRP030_1,T0__CRP109_1,T0__CRP029_1,T0__CRP041_2,T0__CRP108_1,T0__CRP033_1,T0__CRP038_1,T0__CRP035_1,T0__CRP040_1,T0__CRP060_7,T0__CRP225_7,T0__CRP123_7,T0__CRP062_1,T0__CRP015_1,T0__CRP067_1,T0__CRP002_1,T0__CRP127_1,T0__CRP071_2,T0__CRP098_1,T0__CRP099_1,T0__CRP027_3,T0__CRP070_3,T0__CRP014_3,T0__CRP233_3,T0__CRP232_1,T0__CRP101_1,T0__CRP103_2,T0__CRP102_6,T0__CRP100_1,T0__CRP111_4,T0__CRP228_4,T0__CRP239_1,T0__CRP235_3,T0__CRP116_1,T0__CRP241_1,T0__CRP105_7,T0__CRP011_1,T0__CRP124_7,T0__CRP107_7,T0__CRP094_3,T0__CRP077_1,T0__CRP083_1,T0__CRP089_1,T0__CRP095_2,T0__CRP096_2,T0__CRP078_6,T0__CRP080_1,T0__CRP085_1,T0__CRP090_1,T0__CRP093_4,T0__CRP092_4,T0__CRP082_3,T0__CRP088_4,T0__CRP079_4,T0__CRP081_4,T0__CRP091_4,T0__CRP075_4,T0__CRP086_4,T0__CRP084_1,T0__CRP120_4,T0__CRP087_4,T0__CRP106_4,T0__CRP097_4,T0__CRP076_1,T0__CRP005_1,T0__CRP001_3,T0__CRP063_3,T0__CRP064_3,T0__CRP065_3,T0__CRP013_1,T0__CRP008_1,T0__CRP234_1,T0_R0_CRP002_1,T0_R1_CRP001_1,T0_R2_CRP001_1,T0_R3_CRP001_1,T0_R4_CRP001_1 FROM (SELECT IDPROCESS,NMPROCESS,NMPROCESSMODEL,NMOCCURRENCETYPE,IDSLASTATUS,IDLEVEL,NMDEADLINE,DTSTART,IDSITUATION,NMEVALRESULT,NMUSERSTART,TYPEUSER,IDREVISIONSTATUS,NMREVISIONSTATUS,DTDEADLINEFIELD,IDPROCESSTYPE,IDREVISION,DTFINISH,DTSLAFINISH,FGDEADLINE,FGSLASTATUS,FGSTATUS,FGTYPEUSER,T0__CRP019_7,T0__CRP017_7,T0__CRP024_7,T0__CRP021_7,T0__CRP018_7,T0__CRP025_7,T0__CRP026_2,T0__CRP020_7,T0__CRP022_7,T0__CRP012_1,T0__CRP119_1,T0__CRP004_1,T0__CRP009_1,T0__CRP009A_1,T0__CRP061_1,T0__CRP066_1,T0__CRP126_1,T0__CRP121_1,T0__CRP122_1,T0__CRP114_1,T0__CRP118_1,T0__CRP112_1,T0__CRP069_1,T0__CRP117_1,T0__CRP113_1,T0__CRP068_6,T0__CRP007_6,T0__CRP016_6,T0__CRP104_6,T0__CRP010_1,T0__CRP003_1,T0__CRP059_2,T0__CRO049_1,T0__CRP058_1,T0__CRP046_1,T0__CRP046A_1,T0__CRP049_6,T0__CRP047_1,T0__CRP057_1,T0__CRP074_1,T0__CRP044_1,T0__CRP043_1,T0__CRP050_2,T0__CRP048_1,T0__CRP045_1,T0__CRP051_1,T0__CRP006_1,T0__CRP042_1,T0__CRP115_1,T0__CRP236_1,T0__CRP237_1,T0__CRP238_1,T0__CRP028_2,T0__CRP052_1,T0__CRP031_1,T0__CRP036_1,T0__CRP055_1,T0__CRP055A_1,T0__CRP056_1,T0__CRP056A_1,T0__CRP110_6,T0__CRP032_1,T0__CRP037_1,T0__CRP053_1,T0__CRP054_1,T0__CRP072_1,T0__CRP073_1,T0__CRP034_1,T0__CRP039_1,T0__CRP030_1,T0__CRP109_1,T0__CRP029_1,T0__CRP041_2,T0__CRP108_1,T0__CRP033_1,T0__CRP038_1,T0__CRP035_1,T0__CRP040_1,T0__CRP060_7,T0__CRP225_7,T0__CRP123_7,T0__CRP062_1,T0__CRP015_1,T0__CRP067_1,T0__CRP002_1,T0__CRP127_1,T0__CRP071_2,T0__CRP098_1,T0__CRP099_1,T0__CRP027_3,T0__CRP070_3,T0__CRP014_3,T0__CRP233_3,T0__CRP232_1,T0__CRP101_1,T0__CRP103_2,T0__CRP102_6,T0__CRP100_1,T0__CRP111_4,T0__CRP228_4,T0__CRP239_1,T0__CRP235_3,T0__CRP116_1,T0__CRP241_1,T0__CRP105_7,T0__CRP011_1,T0__CRP124_7,T0__CRP107_7,T0__CRP094_3,T0__CRP077_1,T0__CRP083_1,T0__CRP089_1,T0__CRP095_2,T0__CRP096_2,T0__CRP078_6,T0__CRP080_1,T0__CRP085_1,T0__CRP090_1,T0__CRP093_4,T0__CRP092_4,T0__CRP082_3,T0__CRP088_4,T0__CRP079_4,T0__CRP081_4,T0__CRP091_4,T0__CRP075_4,T0__CRP086_4,T0__CRP084_1,T0__CRP120_4,T0__CRP087_4,T0__CRP106_4,T0__CRP097_4,T0__CRP076_1,T0__CRP005_1,T0__CRP001_3,T0__CRP063_3,T0__CRP064_3,T0__CRP065_3,T0__CRP013_1,T0__CRP008_1,T0__CRP234_1,T0_R0_CRP002_1,T0_R1_CRP001_1,T0_R2_CRP001_1,T0_R3_CRP001_1,T0_R4_CRP001_1 FROM (SELECT 1 AS QTD, WFP.IDPROCESS, WFP.NMPROCESS, WFP.NMPROCESSMODEL, WFP.NMUSERSTART, CASE WHEN WFP.CDEXTERNALUSERSTART IS NOT NULL THEN '#{303826}' WHEN WFP.CDUSERSTART IS NOT NULL THEN '#{305843}' ELSE NULL END AS TYPEUSER, CASE WHEN WFP.CDEXTERNALUSERSTART IS NOT NULL THEN 2 WHEN WFP.CDUSERSTART IS NOT NULL THEN 1 ELSE NULL END AS FGTYPEUSER, (SELECT GNT.NMGENTYPE FROM GNGENTYPE GNT WHERE WFP.CDWORKFLOWTYPE=GNT.CDGENTYPE) AS NMOCCURRENCETYPE, GNRS.IDREVISIONSTATUS, GNRS.NMREVISIONSTATUS, CASE WHEN WFP.FGCONCLUDEDSTATUS IS NOT NULL THEN (CASE WHEN WFP.FGCONCLUDEDSTATUS=1 THEN '#{100900}' WHEN WFP.FGCONCLUDEDSTATUS=2 THEN '#{100899}' END) ELSE (CASE WHEN (( WFP.DTESTIMATEDFINISH > (DATEADD(DAY, COALESCE((SELECT QTDAYS FROM ADMAILTASKEXEC WHERE CDMAILTASKEXEC=(SELECT TASK.CDAHEAD FROM ADMAILTASKREL TASK WHERE TASK.CDMAILTASKREL=(SELECT TBL.CDMAILTASKSETTINGS FROM CONOTIFICATION TBL))), 0), CAST(<!%TODAY%> AS DATETIME)))) OR (WFP.DTESTIMATEDFINISH IS NULL)) THEN '#{100900}' WHEN (( WFP.DTESTIMATEDFINISH=CAST( dateadd(dd, datediff(dd,0, getDate()), 0) AS DATETIME) AND WFP.NRTIMEESTFINISH >= (datepart(minute, getdate()) + datepart(hour, getdate()) * 60)) OR (WFP.DTESTIMATEDFINISH > CAST( dateadd(dd, datediff(dd,0, getDate()), 0) AS DATETIME))) THEN '#{201639}' ELSE '#{100899}' END) END AS NMDEADLINE, CASE WHEN WFP.FGCONCLUDEDSTATUS IS NOT NULL THEN (CASE WHEN WFP.FGCONCLUDEDSTATUS=1 THEN 1 WHEN WFP.FGCONCLUDEDSTATUS=2 THEN 3 END) ELSE (CASE WHEN (( WFP.DTESTIMATEDFINISH > (DATEADD(DAY, COALESCE((SELECT QTDAYS FROM ADMAILTASKEXEC WHERE CDMAILTASKEXEC=(SELECT TASK.CDAHEAD FROM ADMAILTASKREL TASK WHERE TASK.CDMAILTASKREL=(SELECT TBL.CDMAILTASKSETTINGS FROM CONOTIFICATION TBL))), 0), CAST( dateadd(dd, datediff(dd,0, getDate()), 0) AS DATETIME)))) OR (WFP.DTESTIMATEDFINISH IS NULL)) THEN 1 WHEN (( WFP.DTESTIMATEDFINISH=CAST( dateadd(dd, datediff(dd,0, getDate()), 0) AS DATETIME) AND WFP.NRTIMEESTFINISH >= (datepart(minute, getdate()) + datepart(hour, getdate()) * 60)) OR (WFP.DTESTIMATEDFINISH > CAST( dateadd(dd, datediff(dd,0, getDate()), 0) AS DATETIME))) THEN 2 ELSE 3 END) END AS FGDEADLINE, WFP.FGSLASTATUS, CASE WFP.FGSLASTATUS WHEN 10 THEN '#{218492}' WHEN 30 THEN '#{218493}' WHEN 40 THEN '#{218494}' END AS IDSLASTATUS, WFP.FGSTATUS, CASE WFP.FGSTATUS WHEN 1 THEN '#{103131}' WHEN 2 THEN '#{107788}' WHEN 3 THEN '#{104230}' WHEN 4 THEN '#{100667}' WHEN 5 THEN '#{200712}' END AS IDSITUATION, GNR.NMEVALRESULT, (SELECT MAX(IDLEVEL) FROM GNSLACTRLHISTORY WHERE CDSLACONTROL=WFP.CDSLACONTROL AND FGCURRENT=1) AS IDLEVEL, WFP.IDPROCESSTYPE, WFP.IDREVISION, CONVERT(DATETIME, SWITCHOFFSET(CAST(DATEADD(MINUTE, (CAST(SLACTRL.BNSLAFINISH AS BIGINT) / 1000)/60, '1970-01-01') AS DATETIMEOFFSET),'-03:00')) AS DTSLAFINISH, Dateadd(minute, WFP.NRTIMEESTFINISH, WFP.DTESTIMATEDFINISH) AS DTDEADLINEFIELD, CONVERT(DATETIME, WFP.DTSTART + ' ' + WFP.TMSTART, 120) AS DTSTART, CONVERT(DATETIME, WFP.DTFINISH + ' ' + WFP.TMFINISH, 120) AS DTFINISH, T0_OUTER.T0__CRP019_7, T0_OUTER.T0__CRP017_7, T0_OUTER.T0__CRP024_7, T0_OUTER.T0__CRP021_7, T0_OUTER.T0__CRP018_7, T0_OUTER.T0__CRP025_7, T0_OUTER.T0__CRP026_2, T0_OUTER.T0__CRP020_7, T0_OUTER.T0__CRP022_7, T0_OUTER.T0__CRP012_1, T0_OUTER.T0__CRP119_1, T0_OUTER.T0__CRP004_1, T0_OUTER.T0__CRP009_1, T0_OUTER.T0__CRP009A_1, T0_OUTER.T0__CRP061_1, T0_OUTER.T0__CRP066_1, T0_OUTER.T0__CRP126_1, T0_OUTER.T0__CRP121_1, T0_OUTER.T0__CRP122_1, T0_OUTER.T0__CRP114_1, T0_OUTER.T0__CRP118_1, T0_OUTER.T0__CRP112_1, T0_OUTER.T0__CRP069_1, T0_OUTER.T0__CRP117_1, T0_OUTER.T0__CRP113_1, T0_OUTER.T0__CRP068_6, T0_OUTER.T0__CRP007_6, T0_OUTER.T0__CRP016_6, T0_OUTER.T0__CRP104_6, T0_OUTER.T0__CRP010_1, T0_OUTER.T0__CRP003_1, T0_OUTER.T0__CRP059_2, T0_OUTER.T0__CRO049_1, T0_OUTER.T0__CRP058_1, T0_OUTER.T0__CRP046_1, T0_OUTER.T0__CRP046A_1, T0_OUTER.T0__CRP049_6, T0_OUTER.T0__CRP047_1, T0_OUTER.T0__CRP057_1, T0_OUTER.T0__CRP074_1, T0_OUTER.T0__CRP044_1, T0_OUTER.T0__CRP043_1, T0_OUTER.T0__CRP050_2, T0_OUTER.T0__CRP048_1, T0_OUTER.T0__CRP045_1, T0_OUTER.T0__CRP051_1, T0_OUTER.T0__CRP006_1, T0_OUTER.T0__CRP042_1, T0_OUTER.T0__CRP115_1, T0_OUTER.T0__CRP236_1, T0_OUTER.T0__CRP237_1, T0_OUTER.T0__CRP238_1, T0_OUTER.T0__CRP028_2, T0_OUTER.T0__CRP052_1, T0_OUTER.T0__CRP031_1, T0_OUTER.T0__CRP036_1, T0_OUTER.T0__CRP055_1, T0_OUTER.T0__CRP055A_1, T0_OUTER.T0__CRP056_1, T0_OUTER.T0__CRP056A_1, T0_OUTER.T0__CRP110_6, T0_OUTER.T0__CRP032_1, T0_OUTER.T0__CRP037_1, T0_OUTER.T0__CRP053_1, T0_OUTER.T0__CRP054_1, T0_OUTER.T0__CRP072_1, T0_OUTER.T0__CRP073_1, T0_OUTER.T0__CRP034_1, T0_OUTER.T0__CRP039_1, T0_OUTER.T0__CRP030_1, T0_OUTER.T0__CRP109_1, T0_OUTER.T0__CRP029_1, T0_OUTER.T0__CRP041_2, T0_OUTER.T0__CRP108_1, T0_OUTER.T0__CRP033_1, T0_OUTER.T0__CRP038_1, T0_OUTER.T0__CRP035_1, T0_OUTER.T0__CRP040_1, T0_OUTER.T0__CRP060_7, T0_OUTER.T0__CRP225_7, T0_OUTER.T0__CRP123_7, T0_OUTER.T0__CRP062_1, T0_OUTER.T0__CRP015_1, T0_OUTER.T0__CRP067_1, T0_OUTER.T0__CRP002_1, T0_OUTER.T0__CRP127_1, T0_OUTER.T0__CRP071_2, T0_OUTER.T0__CRP098_1, T0_OUTER.T0__CRP099_1, T0_OUTER.T0__CRP027_3, T0_OUTER.T0__CRP070_3, T0_OUTER.T0__CRP014_3, T0_OUTER.T0__CRP233_3, T0_OUTER.T0__CRP232_1, T0_OUTER.T0__CRP101_1, T0_OUTER.T0__CRP103_2, T0_OUTER.T0__CRP102_6, T0_OUTER.T0__CRP100_1, T0_OUTER.T0__CRP111_4, T0_OUTER.T0__CRP228_4, T0_OUTER.T0__CRP239_1, T0_OUTER.T0__CRP235_3, T0_OUTER.T0__CRP116_1, T0_OUTER.T0__CRP241_1, T0_OUTER.T0__CRP105_7, T0_OUTER.T0__CRP011_1, T0_OUTER.T0__CRP124_7, T0_OUTER.T0__CRP107_7, T0_OUTER.T0__CRP094_3, T0_OUTER.T0__CRP077_1, T0_OUTER.T0__CRP083_1, T0_OUTER.T0__CRP089_1, T0_OUTER.T0__CRP095_2, T0_OUTER.T0__CRP096_2, T0_OUTER.T0__CRP078_6, T0_OUTER.T0__CRP080_1, T0_OUTER.T0__CRP085_1, T0_OUTER.T0__CRP090_1, T0_OUTER.T0__CRP093_4, T0_OUTER.T0__CRP092_4, T0_OUTER.T0__CRP082_3, T0_OUTER.T0__CRP088_4, T0_OUTER.T0__CRP079_4, T0_OUTER.T0__CRP081_4, T0_OUTER.T0__CRP091_4, T0_OUTER.T0__CRP075_4, T0_OUTER.T0__CRP086_4, T0_OUTER.T0__CRP084_1, T0_OUTER.T0__CRP120_4, T0_OUTER.T0__CRP087_4, T0_OUTER.T0__CRP106_4, T0_OUTER.T0__CRP097_4, T0_OUTER.T0__CRP076_1, T0_OUTER.T0__CRP005_1, T0_OUTER.T0__CRP001_3, T0_OUTER.T0__CRP063_3, T0_OUTER.T0__CRP064_3, T0_OUTER.T0__CRP065_3, T0_OUTER.T0__CRP013_1, T0_OUTER.T0__CRP008_1, T0_OUTER.T0__CRP234_1, T0_OUTER.T0_R0_CRP002_1, T0_OUTER.T0_R1_CRP001_1, T0_OUTER.T0_R2_CRP001_1, T0_OUTER.T0_R3_CRP001_1, T0_OUTER.T0_R4_CRP001_1 FROM WFPROCESS WFP LEFT OUTER JOIN GNSLACONTROL SLACTRL ON WFP.CDSLACONTROL=SLACTRL.CDSLACONTROL LEFT OUTER JOIN GNREVISIONSTATUS GNRS ON WFP.CDSTATUS=GNRS.CDREVISIONSTATUS LEFT OUTER JOIN GNEVALRESULTUSED GNRUS ON GNRUS.CDEVALRESULTUSED=WFP.CDEVALRSLTPRIORITY LEFT OUTER JOIN GNEVALRESULT GNR ON GNRUS.CDEVALRESULT=GNR.CDEVALRESULT LEFT OUTER JOIN (SELECT FORMREG.CDASSOC, T0.CRP019 AS T0__CRP019_7, T0.CRP017 AS T0__CRP017_7, T0.CRP024 AS T0__CRP024_7, T0.CRP021 AS T0__CRP021_7, T0.CRP018 AS T0__CRP018_7, T0.CRP025 AS T0__CRP025_7, T0.CRP026 AS T0__CRP026_2, T0.CRP020 AS T0__CRP020_7, T0.CRP022 AS T0__CRP022_7, T0.CRP012 AS T0__CRP012_1, T0.CRP119 AS T0__CRP119_1, T0.CRP004 AS T0__CRP004_1, T0.CRP009 AS T0__CRP009_1, T0.CRP009A AS T0__CRP009A_1, T0.CRP061 AS T0__CRP061_1, T0.CRP066 AS T0__CRP066_1, T0.CRP126 AS T0__CRP126_1, T0.CRP121 AS T0__CRP121_1, T0.CRP122 AS T0__CRP122_1, T0.CRP114 AS T0__CRP114_1, T0.CRP118 AS T0__CRP118_1, T0.CRP112 AS T0__CRP112_1, T0.CRP069 AS T0__CRP069_1, T0.CRP117 AS T0__CRP117_1, T0.CRP113 AS T0__CRP113_1, T0.CRP068 AS T0__CRP068_6, T0.CRP007 AS T0__CRP007_6, T0.CRP016 AS T0__CRP016_6, T0.CRP104 AS T0__CRP104_6, T0.CRP010 AS T0__CRP010_1, T0.CRP003 AS T0__CRP003_1, T0.CRP059 AS T0__CRP059_2, T0.CRO049 AS T0__CRO049_1, T0.CRP058 AS T0__CRP058_1, T0.CRP046 AS T0__CRP046_1, T0.CRP046A AS T0__CRP046A_1, T0.CRP049 AS T0__CRP049_6, T0.CRP047 AS T0__CRP047_1, T0.CRP057 AS T0__CRP057_1, T0.CRP074 AS T0__CRP074_1, T0.CRP044 AS T0__CRP044_1, T0.CRP043 AS T0__CRP043_1, T0.CRP050 AS T0__CRP050_2, T0.CRP048 AS T0__CRP048_1, T0.CRP045 AS T0__CRP045_1, T0.CRP051 AS T0__CRP051_1, T0.CRP006 AS T0__CRP006_1, T0.CRP042 AS T0__CRP042_1, T0.CRP115 AS T0__CRP115_1, T0.CRP236 AS T0__CRP236_1, T0.CRP237 AS T0__CRP237_1, T0.CRP238 AS T0__CRP238_1, T0.CRP028 AS T0__CRP028_2, T0.CRP052 AS T0__CRP052_1, T0.CRP031 AS T0__CRP031_1, T0.CRP036 AS T0__CRP036_1, T0.CRP055 AS T0__CRP055_1, T0.CRP055A AS T0__CRP055A_1, T0.CRP056 AS T0__CRP056_1, T0.CRP056A AS T0__CRP056A_1, T0.CRP110 AS T0__CRP110_6, T0.CRP032 AS T0__CRP032_1, T0.CRP037 AS T0__CRP037_1, T0.CRP053 AS T0__CRP053_1, T0.CRP054 AS T0__CRP054_1, T0.CRP072 AS T0__CRP072_1, T0.CRP073 AS T0__CRP073_1, T0.CRP034 AS T0__CRP034_1, T0.CRP039 AS T0__CRP039_1, T0.CRP030 AS T0__CRP030_1, T0.CRP109 AS T0__CRP109_1, T0.CRP029 AS T0__CRP029_1, T0.CRP041 AS T0__CRP041_2, T0.CRP108 AS T0__CRP108_1, T0.CRP033 AS T0__CRP033_1, T0.CRP038 AS T0__CRP038_1, T0.CRP035 AS T0__CRP035_1, T0.CRP040 AS T0__CRP040_1, T0.CRP060 AS T0__CRP060_7, T0.CRP225 AS T0__CRP225_7, T0.CRP123 AS T0__CRP123_7, T0.CRP062 AS T0__CRP062_1, T0.CRP015 AS T0__CRP015_1, T0.CRP067 AS T0__CRP067_1, T0.CRP002 AS T0__CRP002_1, T0.CRP127 AS T0__CRP127_1, T0.CRP071 AS T0__CRP071_2, T0.CRP098 AS T0__CRP098_1, T0.CRP099 AS T0__CRP099_1, T0.CRP027 AS T0__CRP027_3, T0.CRP070 AS T0__CRP070_3, T0.CRP014 AS T0__CRP014_3, T0.CRP233 AS T0__CRP233_3, T0.CRP232 AS T0__CRP232_1, T0.CRP101 AS T0__CRP101_1, T0.CRP103 AS T0__CRP103_2, T0.CRP102 AS T0__CRP102_6, T0.CRP100 AS T0__CRP100_1, T0.CRP111 AS T0__CRP111_4, T0.CRP228 AS T0__CRP228_4, T0.CRP239 AS T0__CRP239_1, T0.CRP235 AS T0__CRP235_3, T0.CRP116 AS T0__CRP116_1, T0.CRP241 AS T0__CRP241_1, T0.CRP105 AS T0__CRP105_7, T0.CRP011 AS T0__CRP011_1, T0.CRP124 AS T0__CRP124_7, T0.CRP107 AS T0__CRP107_7, T0.CRP094 AS T0__CRP094_3, T0.CRP077 AS T0__CRP077_1, T0.CRP083 AS T0__CRP083_1, T0.CRP089 AS T0__CRP089_1, T0.CRP095 AS T0__CRP095_2, T0.CRP096 AS T0__CRP096_2, T0.CRP078 AS T0__CRP078_6, T0.CRP080 AS T0__CRP080_1, T0.CRP085 AS T0__CRP085_1, T0.CRP090 AS T0__CRP090_1, T0.CRP093 AS T0__CRP093_4, T0.CRP092 AS T0__CRP092_4, T0.CRP082 AS T0__CRP082_3, T0.CRP088 AS T0__CRP088_4, T0.CRP079 AS T0__CRP079_4, T0.CRP081 AS T0__CRP081_4, T0.CRP091 AS T0__CRP091_4, T0.CRP075 AS T0__CRP075_4, T0.CRP086 AS T0__CRP086_4, T0.CRP084 AS T0__CRP084_1, T0.CRP120 AS T0__CRP120_4, T0.CRP087 AS T0__CRP087_4, T0.CRP106 AS T0__CRP106_4, T0.CRP097 AS T0__CRP097_4, T0.CRP076 AS T0__CRP076_1, T0.CRP005 AS T0__CRP005_1, T0.CRP001 AS T0__CRP001_3, T0.CRP063 AS T0__CRP063_3, T0.CRP064 AS T0__CRP064_3, T0.CRP065 AS T0__CRP065_3, T0.CRP013 AS T0__CRP013_1, T0.CRP008 AS T0__CRP008_1, T0.CRP234 AS T0__CRP234_1, R0.CRP002 AS T0_R0_CRP002_1, R1.CRP001 AS T0_R1_CRP001_1, R2.CRP001 AS T0_R2_CRP001_1, R3.CRP001 AS T0_R3_CRP001_1, R4.CRP001 AS T0_R4_CRP001_1 FROM GNASSOCFORMREG FORMREG INNER JOIN DYNrhcp1 T0 ON (FORMREG.OIDENTITYREG=T0.OID) LEFT OUTER JOIN DYNcrp01pro R0 ON (T0.OIDABC2KV8A0ATEMIC=R0.OID) LEFT OUTER JOIN DYNcrp01dir R1 ON (T0.OIDABCUPU5NTKV2TKY=R1.OID) LEFT OUTER JOIN DYNcrp01dir R2 ON (T0.OIDABCHY0V3JFCNPXB=R2.OID) LEFT OUTER JOIN DYNcrp01dir R3 ON (T0.OIDABCFJNV2LZCSNAT=R3.OID) LEFT OUTER JOIN DYNcrp01dir R4 ON (T0.OIDABCZV5YDZ2ORHTQ=R4.OID)) T0_OUTER ON (T0_OUTER.CDASSOC=WFP.CDASSOCREG) INNER JOIN (SELECT DISTINCT Z.IDOBJECT FROM (SELECT AUXWFP.IDOBJECT FROM WFPROCESS AUXWFP INNER JOIN (SELECT PERM.USERCD, PERM.IDPROCESS, MIN(PERM.FGPERMISSION) AS FGPERMISSION FROM (SELECT WF.FGPERMISSION, WF.IDPROCESS, TM.CDUSER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF INNER JOIN ADTEAMUSER TM ON WF.CDTEAM=TM.CDTEAM WHERE WF.FGACCESSTYPE=1 AND TM.CDUSER=5330 AND WF.FGACCESSEXCEPTION IS NULL UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, UDP.CDUSER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF INNER JOIN ADUSERDEPTPOS UDP ON WF.CDDEPARTMENT=UDP.CDDEPARTMENT WHERE WF.FGACCESSTYPE=2 AND UDP.CDUSER=5330 AND WF.FGACCESSEXCEPTION IS NULL UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, UDP.CDUSER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF INNER JOIN ADUSERDEPTPOS UDP ON WF.CDDEPARTMENT=UDP.CDDEPARTMENT AND WF.CDPOSITION=UDP.CDPOSITION WHERE WF.FGACCESSTYPE=3 AND UDP.CDUSER=5330 AND WF.FGACCESSEXCEPTION IS NULL UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, UDP.CDUSER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF INNER JOIN ADUSERDEPTPOS UDP ON WF.CDPOSITION=UDP.CDPOSITION WHERE WF.FGACCESSTYPE=4 AND UDP.CDUSER=5330 AND WF.FGACCESSEXCEPTION IS NULL UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, WF.CDUSER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF WHERE WF.FGACCESSTYPE=5 AND WF.CDUSER=5330 AND WF.FGACCESSEXCEPTION IS NULL UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, US.CDUSER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF CROSS JOIN ADUSER US WHERE WF.FGACCESSTYPE=6 AND US.CDUSER=5330 AND WF.FGACCESSEXCEPTION IS NULL UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, RL.CDUSER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF INNER JOIN ADUSERROLE RL ON RL.CDROLE=WF.CDROLE WHERE WF.FGACCESSTYPE=7 AND RL.CDUSER=5330 AND WF.FGACCESSEXCEPTION IS NULL UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, WFP.CDUSERSTART AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF INNER JOIN WFPROCESS WFP ON WFP.IDOBJECT=WF.IDPROCESS WHERE WF.FGACCESSTYPE=30 AND WFP.CDUSERSTART=5330 AND WF.FGACCESSEXCEPTION IS NULL UNION ALL SELECT WF.FGPERMISSION, WF.IDPROCESS, US.CDLEADER AS USERCD, WF.CDACCESSLIST FROM WFPROCSECURITYLIST WF INNER JOIN WFPROCESS WFP ON WFP.IDOBJECT=WF.IDPROCESS INNER JOIN ADUSER US ON US.CDUSER=WFP.CDUSERSTART WHERE WF.FGACCESSTYPE=31 AND US.CDLEADER=5330 AND WF.FGACCESSEXCEPTION IS NULL) PERM INNER JOIN WFPROCSECURITYCTRL GNASSOC ON (GNASSOC.CDACCESSLIST=PERM.CDACCESSLIST AND GNASSOC.IDPROCESS=PERM.IDPROCESS) WHERE GNASSOC.CDACCESSROLEFIELD IN (501) GROUP BY PERM.USERCD, PERM.IDPROCESS) PERMISSION ON PERMISSION.IDPROCESS=AUXWFP.IDOBJECT WHERE PERMISSION.FGPERMISSION=1 AND AUXWFP.FGSTATUS <= 5 AND (AUXWFP.FGMODELWFSECURITY IS NULL OR AUXWFP.FGMODELWFSECURITY=0) UNION ALL SELECT T.IDOBJECT FROM (SELECT MIN(PERM99.FGPERMISSION) AS FGPERMISSION, PERM99.IDOBJECT FROM (SELECT WFP.IDOBJECT, PERM1.FGPERMISSION FROM (SELECT PP.FGPERMISSION, PP.CDPROC, PP.CDACCESSLIST, TM.CDUSER AS USERCD FROM PMPROCACCESSLIST PP INNER JOIN ADTEAMUSER TM ON PP.CDTEAM=TM.CDTEAM WHERE PP.FGACCESSTYPE=1 AND TM.CDUSER=5330 UNION ALL SELECT PP.FGPERMISSION, PP.CDPROC, PP.CDACCESSLIST, UDP.CDUSER AS USERCD FROM PMPROCACCESSLIST PP INNER JOIN ADUSERDEPTPOS UDP ON PP.CDDEPARTMENT=UDP.CDDEPARTMENT WHERE PP.FGACCESSTYPE=2 AND UDP.CDUSER=5330 UNION ALL SELECT PP.FGPERMISSION, PP.CDPROC, PP.CDACCESSLIST, UDP.CDUSER AS USERCD FROM PMPROCACCESSLIST PP INNER JOIN ADUSERDEPTPOS UDP ON (PP.CDDEPARTMENT=UDP.CDDEPARTMENT AND PP.CDPOSITION=UDP.CDPOSITION) WHERE PP.FGACCESSTYPE=3 AND UDP.CDUSER=5330 UNION ALL SELECT PP.FGPERMISSION, PP.CDPROC, PP.CDACCESSLIST, UDP.CDUSER AS USERCD FROM PMPROCACCESSLIST PP INNER JOIN ADUSERDEPTPOS UDP ON PP.CDPOSITION=UDP.CDPOSITION WHERE PP.FGACCESSTYPE=4 AND UDP.CDUSER=5330 UNION ALL SELECT PP.FGPERMISSION, PP.CDPROC, PP.CDACCESSLIST, PP.CDUSER AS USERCD FROM PMPROCACCESSLIST PP WHERE PP.FGACCESSTYPE=5 AND PP.CDUSER=5330 UNION ALL SELECT PP.FGPERMISSION, PP.CDPROC, PP.CDACCESSLIST, US.CDUSER AS USERCD FROM PMPROCACCESSLIST PP CROSS JOIN ADUSER US WHERE PP.FGACCESSTYPE=6 AND US.CDUSER=5330 UNION ALL SELECT PP.FGPERMISSION, PP.CDPROC, PP.CDACCESSLIST, RL.CDUSER AS USERCD FROM PMPROCACCESSLIST PP INNER JOIN ADUSERROLE RL ON RL.CDROLE=PP.CDROLE WHERE PP.FGACCESSTYPE=7 AND RL.CDUSER=5330) PERM1 INNER JOIN PMPROCSECURITYCTRL GNASSOC ON (PERM1.CDACCESSLIST=GNASSOC.CDACCESSLIST AND PERM1.CDPROC=GNASSOC.CDPROC) INNER JOIN PMACCESSROLEFIELD GNCTRL ON GNASSOC.CDACCESSROLEFIELD=GNCTRL.CDACCESSROLEFIELD INNER JOIN PMACTIVITY OBJ ON GNASSOC.CDPROC=OBJ.CDACTIVITY INNER JOIN WFPROCESS WFP ON WFP.CDPROCESSMODEL=PERM1.CDPROC WHERE GNCTRL.CDRELATEDFIELD IN (501) AND (OBJ.FGUSETYPEACCESS=0 OR OBJ.FGUSETYPEACCESS IS NULL) AND WFP.FGMODELWFSECURITY=1 AND WFP.FGSTATUS <= 5 UNION ALL SELECT PERM2.IDOBJECT, PERM2.FGPERMISSION FROM (SELECT PP.FGPERMISSION, WFP.IDOBJECT, PP.CDPROC, PP.CDACCESSLIST, WFP.CDUSERSTART AS USERCD FROM PMPROCACCESSLIST PP INNER JOIN WFPROCESS WFP ON WFP.CDPROCESSMODEL=PP.CDPROC WHERE PP.FGACCESSTYPE=30 AND WFP.CDUSERSTART=5330 AND WFP.FGMODELWFSECURITY=1 AND WFP.FGSTATUS <= 5 UNION ALL SELECT PP.FGPERMISSION, WFP.IDOBJECT, PP.CDPROC, PP.CDACCESSLIST, US.CDLEADER AS USERCD FROM PMPROCACCESSLIST PP INNER JOIN WFPROCESS WFP ON WFP.CDPROCESSMODEL=PP.CDPROC INNER JOIN ADUSER US ON US.CDUSER=WFP.CDUSERSTART WHERE PP.FGACCESSTYPE=31 AND US.CDLEADER=5330 AND WFP.FGMODELWFSECURITY=1 AND WFP.FGSTATUS <= 5) PERM2 INNER JOIN PMPROCSECURITYCTRL GNASSOC ON (PERM2.CDACCESSLIST=GNASSOC.CDACCESSLIST AND PERM2.CDPROC=GNASSOC.CDPROC) INNER JOIN PMACCESSROLEFIELD GNCTRL ON GNASSOC.CDACCESSROLEFIELD=GNCTRL.CDACCESSROLEFIELD INNER JOIN PMACTIVITY OBJ ON GNASSOC.CDPROC=OBJ.CDACTIVITY WHERE GNCTRL.CDRELATEDFIELD IN (501) AND (OBJ.FGUSETYPEACCESS=0 OR OBJ.FGUSETYPEACCESS IS NULL)) PERM99 WHERE 1=1 GROUP BY PERM99.IDOBJECT) T WHERE T.FGPERMISSION=1 UNION ALL SELECT PERM.IDOBJECT FROM (SELECT WFP.IDOBJECT FROM (SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN ADTEAMUSER TM ON PM.CDTEAM=TM.CDTEAM WHERE PM.FGACCESSTYPE=1 AND TM.CDUSER=5330 UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN ADUSERDEPTPOS UDP ON PM.CDDEPARTMENT=UDP.CDDEPARTMENT WHERE PM.FGACCESSTYPE=2 AND UDP.CDUSER=5330 UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN ADUSERDEPTPOS UDP ON PM.CDDEPARTMENT=UDP.CDDEPARTMENT AND PM.CDPOSITION=UDP.CDPOSITION WHERE PM.FGACCESSTYPE=3 AND UDP.CDUSER=5330 UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN ADUSERDEPTPOS UDP ON PM.CDPOSITION=UDP.CDPOSITION WHERE PM.FGACCESSTYPE=4 AND UDP.CDUSER=5330 UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM WHERE PM.FGACCESSTYPE=5 AND PM.CDUSER=5330 UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM WHERE PM.FGACCESSTYPE=6 UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN ADUSERROLE RL ON RL.CDROLE=PM.CDROLE WHERE PM.FGACCESSTYPE=7 AND RL.CDUSER=5330) PERM1 INNER JOIN PMACTTYPESECURCTRL GNASSOC ON (PERM1.CDACCESSLIST=GNASSOC.CDACCESSLIST AND PERM1.CDACTTYPE=GNASSOC.CDACTTYPE) INNER JOIN PMACCESSROLEFIELD GNCTRL ON GNASSOC.CDACCESSROLEFIELD=GNCTRL.CDACCESSROLEFIELD INNER JOIN PMACCESSROLEFIELD GNCTRL_F ON GNCTRL.CDRELATEDFIELD=GNCTRL_F.CDACCESSROLEFIELD INNER JOIN PMACTIVITY PMA ON PERM1.CDACTTYPE=PMA.CDACTTYPE INNER JOIN WFPROCESS WFP ON PMA.CDACTIVITY=WFP.CDPROCESSMODEL WHERE GNCTRL_F.CDRELATEDFIELD IN (501) AND WFP.FGSTATUS <= 5 AND PMA.FGUSETYPEACCESS=1 AND WFP.FGMODELWFSECURITY=1 UNION ALL SELECT WFP.IDOBJECT FROM (SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN PMACTIVITY PMA ON PM.CDACTTYPE=PMA.CDACTTYPE WHERE PM.FGACCESSTYPE=8 AND PMA.CDCREATEDBY=5330 UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN PMACTIVITY PMA ON PM.CDACTTYPE=PMA.CDACTTYPE INNER JOIN ADUSERDEPTPOS DEP1 ON DEP1.CDUSER=PMA.CDCREATEDBY INNER JOIN ADUSERDEPTPOS DEP2 ON DEP2.CDDEPARTMENT=DEP1.CDDEPARTMENT WHERE PM.FGACCESSTYPE=9 AND DEP2.CDUSER=5330 UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN PMACTIVITY PMA ON PM.CDACTTYPE=PMA.CDACTTYPE INNER JOIN ADUSERDEPTPOS DEP1 ON DEP1.CDUSER=PMA.CDCREATEDBY INNER JOIN ADUSERDEPTPOS DEP2 ON (DEP2.CDDEPARTMENT=DEP1.CDDEPARTMENT AND DEP2.CDPOSITION=DEP1.CDPOSITION) WHERE PM.FGACCESSTYPE=10 AND DEP2.CDUSER=5330 UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN PMACTIVITY PMA ON PM.CDACTTYPE=PMA.CDACTTYPE INNER JOIN ADUSERDEPTPOS DEP1 ON DEP1.CDUSER=PMA.CDCREATEDBY INNER JOIN ADUSERDEPTPOS DEP2 ON DEP2.CDPOSITION=DEP1.CDPOSITION WHERE PM.FGACCESSTYPE=11 AND DEP2.CDUSER=5330 UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST FROM PMACTTYPESECURLIST PM INNER JOIN PMACTIVITY PMA ON PM.CDACTTYPE=PMA.CDACTTYPE INNER JOIN ADUSER US ON US.CDUSER=PMA.CDCREATEDBY WHERE PM.FGACCESSTYPE=12 AND US.CDLEADER=5330) PERM2 INNER JOIN PMACTTYPESECURCTRL GNASSOC ON (PERM2.CDACCESSLIST=GNASSOC.CDACCESSLIST AND PERM2.CDACTTYPE=GNASSOC.CDACTTYPE) INNER JOIN PMACCESSROLEFIELD GNCTRL ON GNASSOC.CDACCESSROLEFIELD=GNCTRL.CDACCESSROLEFIELD INNER JOIN PMACCESSROLEFIELD GNCTRL_F ON GNCTRL.CDRELATEDFIELD=GNCTRL_F.CDACCESSROLEFIELD INNER JOIN PMACTIVITY PMA ON PERM2.CDACTTYPE=PMA.CDACTTYPE INNER JOIN WFPROCESS WFP ON PMA.CDACTIVITY=WFP.CDPROCESSMODEL WHERE GNCTRL_F.CDRELATEDFIELD IN (501) AND WFP.FGSTATUS <= 5 AND PMA.FGUSETYPEACCESS=1 AND WFP.FGMODELWFSECURITY=1 UNION ALL SELECT PERM3.IDOBJECT FROM (SELECT PM.CDACTTYPE, PM.CDACCESSLIST, WFP.IDOBJECT FROM PMACTTYPESECURLIST PM INNER JOIN PMACTIVITY PMA ON PM.CDACTTYPE=PMA.CDACTTYPE INNER JOIN WFPROCESS WFP ON PMA.CDACTIVITY=WFP.CDPROCESSMODEL WHERE PM.FGACCESSTYPE=30 AND WFP.CDUSERSTART=5330 AND WFP.FGSTATUS <= 5 AND WFP.FGMODELWFSECURITY=1 UNION ALL SELECT PM.CDACTTYPE, PM.CDACCESSLIST, WFP.IDOBJECT FROM PMACTTYPESECURLIST PM INNER JOIN PMACTIVITY PMA ON PM.CDACTTYPE=PMA.CDACTTYPE INNER JOIN WFPROCESS WFP ON PMA.CDACTIVITY=WFP.CDPROCESSMODEL INNER JOIN ADUSER US ON US.CDUSER=WFP.CDUSERSTART WHERE PM.FGACCESSTYPE=31 AND US.CDLEADER=5330 AND WFP.FGSTATUS <= 5 AND WFP.FGMODELWFSECURITY=1) PERM3 INNER JOIN PMACTTYPESECURCTRL GNASSOC ON (PERM3.CDACCESSLIST=GNASSOC.CDACCESSLIST AND PERM3.CDACTTYPE=GNASSOC.CDACTTYPE) INNER JOIN PMACCESSROLEFIELD GNCTRL ON GNASSOC.CDACCESSROLEFIELD=GNCTRL.CDACCESSROLEFIELD INNER JOIN PMACCESSROLEFIELD GNCTRL_F ON GNCTRL.CDRELATEDFIELD=GNCTRL_F.CDACCESSROLEFIELD INNER JOIN PMACTIVITY PMA ON PERM3.CDACTTYPE=PMA.CDACTTYPE WHERE GNCTRL_F.CDRELATEDFIELD IN (501) AND PMA.FGUSETYPEACCESS=1) PERM UNION ALL SELECT AUXWFP.IDOBJECT FROM WFPROCESS AUXWFP INNER JOIN WFPROCSECURITYLIST WFLIST ON (AUXWFP.IDOBJECT=WFLIST.IDPROCESS) INNER JOIN WFPROCSECURITYCTRL WFCTRL ON (WFLIST.CDACCESSLIST=WFCTRL.CDACCESSLIST AND WFLIST.IDPROCESS=WFCTRL.IDPROCESS) WHERE WFCTRL.CDACCESSROLEFIELD IN (501) AND WFLIST.CDUSER=5330 AND WFLIST.FGACCESSTYPE=5 AND WFLIST.FGACCESSEXCEPTION=1 AND WFLIST.FGPERMISSION=1 AND AUXWFP.FGSTATUS <= 5) Z) MYPERM ON (WFP.IDOBJECT=MYPERM.IDOBJECT) WHERE WFP.FGSTATUS <= 5 AND WFP.CDPRODAUTOMATION NOT IN (160, 202, 275) AND WFP.CDPROCESSMODEL=86 AND WFP.CDSTATUS IN (34)) TEMPTB0) TEMPTB1
