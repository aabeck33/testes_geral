SELECT CASE WHEN ME1.FGPHASE=1 THEN (CAST ('#{200071}' AS VARCHAR(255))) WHEN ME1.FGPHASE=2 THEN (CAST ('#{305823}' AS VARCHAR(255))) WHEN ME1.FGPHASE=3 THEN (CAST ('#{107641}' AS VARCHAR(255))) WHEN ME1.FGPHASE=4 THEN (CAST ('#{107644}' AS VARCHAR(255))) WHEN ME1.FGPHASE=5 THEN (CAST ('#{103962}' AS VARCHAR(255))) WHEN ME1.FGPHASE=6 THEN (CAST ('#{101237}' AS VARCHAR(255))) END AS PHASEMEETING, CASE WHEN (SELECT COUNT(GNAS.CDASSOCFROM) AS CNT FROM GNASSOCSUITE GNAS WHERE GNAS.CDASSOCFROM IN (SELECT CDASSOC FROM GNMEETINGSUBJECT WHERE CDMEETING=ME1.CDMEETING) OR GNAS.CDASSOCFROM=ME1.CDASSOC) > 1 THEN (CAST ('#{307875}' AS VARCHAR(255))) WHEN (SELECT GNAS.NMASSOCTO FROM GNASSOCSUITE GNAS WHERE GNAS.CDASSOCFROM=ME1.CDASSOC)='PROJECT' THEN (CAST ('#{102175}' AS VARCHAR(255))) WHEN (SELECT GNAS.NMASSOCTO FROM GNASSOCSUITE GNAS WHERE GNAS.CDASSOCFROM=ME1.CDASSOC)='PROJECT_TASK' THEN (CAST ('#{200521}' AS VARCHAR(255))) WHEN (SELECT GNAS.NMASSOCTO FROM GNASSOCSUITE GNAS WHERE GNAS.CDASSOCFROM=ME1.CDASSOC)='PROGRAM' THEN (CAST ('#{213336}' AS VARCHAR(255))) WHEN (SELECT GNAS.NMASSOCTO FROM GNASSOCSUITE GNAS WHERE GNAS.CDASSOCFROM=ME1.CDASSOC)='NONPROJECT_TASK' THEN (CAST ('#{107897}' AS VARCHAR(255))) WHEN (SELECT GNAS.NMASSOCTO FROM GNASSOCSUITE GNAS WHERE GNAS.CDASSOCFROM=ME1.CDASSOC)='REQUEST' THEN (CAST ('#{103644}' AS VARCHAR(255))) WHEN (SELECT GNAS.NMASSOCTO FROM GNASSOCSUITE GNAS WHERE GNAS.CDASSOCFROM=ME1.CDASSOC)='WORKFLOW_INSTANCE' THEN (CAST ('#{108546}' AS VARCHAR(255))) WHEN (SELECT GNAS.NMASSOCTO FROM GNASSOCSUITE GNAS WHERE GNAS.CDASSOCFROM=ME1.CDASSOC)='PROBLEM_INSTANCE' THEN (CAST ('#{200745}' AS VARCHAR(255))) WHEN (SELECT GNAS.NMASSOCTO FROM GNASSOCSUITE GNAS WHERE GNAS.CDASSOCFROM=ME1.CDASSOC)='INCIDENT_INSTANCE' THEN (CAST ('#{107063}' AS VARCHAR(255))) ELSE '' END AS PHASEOBJECT, GNG.IDGENTYPE + ' - ' + GNG.NMGENTYPE AS TYPE, ME1.CDMEETING, ME1.DTSCHEDULEDST, ME1.DTSCHEDULEDEND, ME1.DTACTST, ME1.DTACTEND, /*ME1.TMACTST, ME1.TMSCHEDULEDST, ME1.TMSCHEDULEDEND, ME1.TMACTEND,*/ ME1.NMMEETING, ME1.IDMEETING, ADU.NMUSER FROM GNMEETING ME1 LEFT OUTER JOIN GNGENTYPE GNG ON (ME1.CDMEETINGTYPE=GNG.CDGENTYPE) INNER JOIN ADUSER ADU ON ME1.CDUSER=ADU.CDUSER LEFT JOIN GNMEETINGUSERS GNMU ON (GNMU.CDMEETING=ME1.CDMEETING AND GNMU.FGRELATER=1) WHERE ME1.CDISOSYSTEM=267 AND (ME1.CDUSER=15611 OR (ME1.FGPHASE IN (3, 4, 6, 8) AND GNMU.CDUSER=15611)) AND ME1.FGPHASE IN (1, 2, 3, 4, 7, 8)
