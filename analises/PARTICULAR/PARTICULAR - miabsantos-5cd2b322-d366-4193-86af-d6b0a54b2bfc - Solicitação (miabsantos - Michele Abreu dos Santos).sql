SELECT 1 AS QTDREG, CASE WHEN SQLBIFINAL.CDISOSYSTEM=174 AND SQLBIFINAL.FGOBJECT=1 THEN 'Plano de ação' WHEN SQLBIFINAL.CDISOSYSTEM=109 AND SQLBIFINAL.FGOBJECT=1 THEN 'Ativo' WHEN SQLBIFINAL.CDISOSYSTEM=4 AND SQLBIFINAL.FGOBJECT=1 THEN 'Calibração' WHEN SQLBIFINAL.CDISOSYSTEM=21 AND SQLBIFINAL.FGOBJECT=1 THEN 'Documento' WHEN SQLBIFINAL.CDISOSYSTEM=94 AND SQLBIFINAL.FGOBJECT=1 THEN 'Iniciativa' WHEN SQLBIFINAL.CDISOSYSTEM=107 AND SQLBIFINAL.FGOBJECT=1 THEN 'Item' WHEN SQLBIFINAL.CDISOSYSTEM=25 AND SQLBIFINAL.FGOBJECT=1 THEN 'Manutenção' WHEN SQLBIFINAL.CDISOSYSTEM=205 AND SQLBIFINAL.FGOBJECT=1 THEN 'Atividade isolada' WHEN SQLBIFINAL.CDISOSYSTEM=15 AND SQLBIFINAL.FGOBJECT=1 THEN 'Processo' WHEN SQLBIFINAL.CDISOSYSTEM=41 AND SQLBIFINAL.FGOBJECT=2 THEN 'Programa' WHEN SQLBIFINAL.CDISOSYSTEM=41 AND SQLBIFINAL.FGOBJECT=1 THEN 'Projeto' WHEN SQLBIFINAL.CDISOSYSTEM=149 AND SQLBIFINAL.FGOBJECT=1 THEN 'Insumo' WHEN SQLBIFINAL.CDISOSYSTEM=205 AND SQLBIFINAL.FGOBJECT=2 THEN 'Apontamento de horas' WHEN SQLBIFINAL.CDISOSYSTEM=26 AND SQLBIFINAL.FGOBJECT=1 THEN 'Treinamento' WHEN SQLBIFINAL.CDISOSYSTEM=17 AND SQLBIFINAL.FGOBJECT=1 THEN 'Resíduo' WHEN SQLBIFINAL.CDISOSYSTEM=215 AND SQLBIFINAL.FGOBJECT=1 THEN 'Risco' END AS NMTYPEOBJECT, CASE WHEN SQLBIFINAL.FGOPERATION=1 THEN 'Criação' WHEN SQLBIFINAL.FGOPERATION=2 THEN 'Revisão' WHEN SQLBIFINAL.FGOPERATION=3 THEN 'Suspensão' WHEN SQLBIFINAL.FGOPERATION=4 THEN 'Ativação' WHEN SQLBIFINAL.FGOPERATION=5 THEN 'Cancelamento' WHEN SQLBIFINAL.FGOPERATION=6 THEN 'Exclusão' WHEN SQLBIFINAL.FGOPERATION=7 THEN 'Impressão' WHEN SQLBIFINAL.FGOPERATION=8 THEN 'Treinamento' WHEN SQLBIFINAL.FGOPERATION=9 THEN 'Registro da calibração' WHEN SQLBIFINAL.FGOPERATION=10 THEN 'Execução de OS' WHEN SQLBIFINAL.FGOPERATION=11 THEN 'Palavra-chave' WHEN SQLBIFINAL.FGOPERATION=12 THEN 'Aquisição' WHEN SQLBIFINAL.FGOPERATION=13 THEN 'Pedido' WHEN SQLBIFINAL.FGOPERATION=14 THEN 'Esforço extraordinário' WHEN SQLBIFINAL.FGOPERATION=15 THEN 'Movimentação de saída' WHEN SQLBIFINAL.FGOPERATION=16 THEN 'Replanejar ação' WHEN SQLBIFINAL.FGOPERATION=17 THEN 'Avaliação de controle' END AS NMOPERATION, SQLBIFINAL.IDREQUEST, SQLBIFINAL.NMREQUEST, SQLBIFINAL.DTREQUEST, SQLBIFINAL.NMREQUESTTYPE, SAT.IDSATISFACTION, URA.NMUSER, DEPSOL.NMDEPARTMENT, USOL.NMUSER AS NMUSERRESP, CASE WHEN SQLBIFINAL.FGPHASEREQUEST=1 THEN 'Emissão' WHEN SQLBIFINAL.FGPHASEREQUEST=2 THEN 'Aprovação' WHEN SQLBIFINAL.FGPHASEREQUEST=3 THEN 'A atender' WHEN SQLBIFINAL.FGPHASEREQUEST=4 THEN 'Em atendimento' WHEN SQLBIFINAL.FGPHASEREQUEST=5 THEN 'Encerramento' WHEN SQLBIFINAL.FGPHASEREQUEST=6 THEN 'Encerrada' WHEN SQLBIFINAL.FGPHASEREQUEST=7 THEN 'Cancelada' WHEN SQLBIFINAL.FGPHASEREQUEST=8 THEN 'Cancelada' END AS NMSITUATION, SQLBIFINAL.OBJETO, SQLBIFINAL.DTCONCLUSION, SQLBIFINAL.CDASSOC, OBJECTRESP.FGMULTIPLERESP, USEXEC.NMUSER AS NMUSEREXECUTE, SQLBIFINAL.FGSYMBOL, SQLBIFINAL.IDCOLOR, SQLBIFINAL.NMEVALRESULT, SQLBIFINAL.VLEVALRESULT, CASE WHEN OBJECTRESP.FGMULTIPLERESP=1 THEN 'Múltiplos responsáveis' ELSE CASE WHEN SQLBIFINAL.FGRESPCONTROL=1 AND (SQLBIFINAL.CDTASKUSER IS NOT NULL OR OBJECTRESP.FGRESPCONTROLOBJ=1) THEN 'Usuário' ELSE CASE WHEN SQLBIFINAL.FGRESPCONTROL=2 OR OBJECTRESP.FGRESPCONTROLOBJ=2 THEN 'Área' ELSE CASE WHEN SQLBIFINAL.FGRESPCONTROL=3 OR OBJECTRESP.FGRESPCONTROLOBJ=3 THEN 'Função' ELSE CASE WHEN SQLBIFINAL.FGRESPCONTROL=4 OR OBJECTRESP.FGRESPCONTROLOBJ=4 THEN 'Área/Função' ELSE CASE WHEN SQLBIFINAL.FGRESPCONTROL=5 OR OBJECTRESP.FGRESPCONTROLOBJ=5 THEN 'Equipe' ELSE NULL END END END END END END AS RESPCONTROL,CASE WHEN OBJECTRESP.FGMULTIPLERESP=1 THEN NULL WHEN OBJECTRESP.NMRESP IS NOT NULL AND SQLBIFINAL.FGRESPCONTROL=1 AND SQLBIFINAL.CDTASKUSER IS NULL THEN OBJECTRESP.NMRESP ELSE CASE WHEN SQLBIFINAL.FGRESPCONTROL=1 AND SQLBIFINAL.CDTASKUSER IS NOT NULL THEN US0.NMUSER ELSE CASE WHEN SQLBIFINAL.FGRESPCONTROL=2 THEN ADDEP0.NMDEPARTMENT ELSE CASE WHEN SQLBIFINAL.FGRESPCONTROL=3 THEN ADPOS0.NMPOSITION ELSE CASE WHEN SQLBIFINAL.FGRESPCONTROL=4 THEN ADDEP0.NMDEPARTMENT+'/'+ADPOS0.NMPOSITION ELSE CASE WHEN SQLBIFINAL.FGRESPCONTROL=5 THEN ADTE0.NMTEAM ELSE NULL END END END END END END AS NMTASKRESP FROM (SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, CASE WHEN GNACT.IDACTIVITY IS NOT NULL THEN GNACT.IDACTIVITY +' - '+ GNACT.NMACTIVITY ELSE CAST('' AS VARCHAR(10)) END AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN GNACTIVITYREQUEST ACTPLANREQ ON (REQ.CDREQUEST=ACTPLANREQ.CDREQUEST) LEFT OUTER JOIN GNACTIVITY GNACT ON (ACTPLANREQ.CDGENACTIVITY=GNACT.CDGENACTIVITY)WHERE TTYPE.CDISOSYSTEM=174 AND REQ.FGOPERATION IN (1) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, CASE WHEN GNACT.IDACTIVITY IS NOT NULL THEN CASE WHEN GNACT.CDACTIVITYOWNER IS NOT NULL THEN (SELECT IDACTIVITY FROM GNACTIVITY WHERE CDGENACTIVITY=GNACT.CDACTIVITYOWNER) + ' > ' + GNACT.IDACTIVITY +' - '+ GNACT.NMACTIVITY ELSE GNACT.IDACTIVITY +' - '+ GNACT.NMACTIVITY END ELSE CAST('' AS VARCHAR(1)) END AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN GNACTIVITYCHANGEREQUEST ACTCHREQ ON (REQ.CDREQUEST=ACTCHREQ.CDREQUEST) LEFT OUTER JOIN GNTMCACTIONPLAN GNTMC ON (ACTCHREQ.CDTASK=GNTMC.CDTASK) LEFT OUTER JOIN GNACTIVITY GNACT ON (GNTMC.CDGENACTIVITY=GNACT.CDGENACTIVITY)WHERE TTYPE.CDISOSYSTEM=174 AND REQ.FGOPERATION IN (16) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, (OBJ.IDOBJECT +' - '+ OBJ.NMOBJECT) AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN OBOBJECTREQUEST OBGR ON (REQ.CDREQUEST=OBGR.CDREQUEST) LEFT OUTER JOIN OBOBJECT OBJ ON (OBGR.CDOBJECT=OBJ.CDOBJECT) INNER JOIN OBOBJECTGROUP OBGROUP ON (OBGROUP.CDOBJECTGROUP=OBJ.CDOBJECT) INNER JOIN OBOBJECTTYPE OBTYPE ON (OBTYPE.CDOBJECTTYPE=OBGROUP.CDOBJECTTYPE) WHERE TTYPE.CDISOSYSTEM=109 AND OBJ.FGAPPLICATION IN (1,2,4,6,7) AND REQ.FGOPERATION IN (2) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, CASE WHEN (SELECT COUNT(CDREQUEST) FROM ASPURCHASEREQUEST MAIRQ1 WHERE MAIRQ1.CDREQUEST=REQ.CDREQUEST)>1 THEN 'Múltiplos' ELSE CASE WHEN (SELECT COUNT(CDREQUEST) FROM ASPURCHASEREQUEST MAIRQ1 WHERE MAIRQ1.CDREQUEST=REQ.CDREQUEST AND MAIRQ1.CDTEMPLATE IS NOT NULL)>0 THEN OBJ.IDOBJECT +' - '+ OBJ.NMOBJECT +' - '+ CAST(ASPURQ.QTQUANTITY AS VARCHAR(10)) ELSE CAST(ASPURQ.DSSPECIFICATION AS VARCHAR(45)) +' - '+ CAST(ASPURQ.QTQUANTITY AS VARCHAR(10)) END END AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN ASPURCHASEREQUEST ASPURQ ON (REQ.CDREQUEST=ASPURQ.CDREQUEST) LEFT OUTER JOIN OBOBJECT OBJ ON (ASPURQ.CDTEMPLATE=OBJ.CDOBJECT AND ASPURQ.CDTEMPLATEREVISION=OBJ.CDREVISION)WHERE TTYPE.CDISOSYSTEM=109 AND ASPURQ.CDPURCHASEREQUEST=(SELECT MAX(CDPURCHASEREQUEST) FROM ASPURCHASEREQUEST ASPURQ3 WHERE ASPURQ3.CDREQUEST=ASPURQ.CDREQUEST) AND REQ.FGOPERATION IN (12) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, CASE WHEN (SELECT COUNT(CDREQUEST) FROM CACALREQUEST CALREQ1 WHERE CALREQ1.CDREQUEST=REQ.CDREQUEST)>1 THEN 'Múltiplos' ELSE OBJ.IDOBJECT +' - '+ OBJ.NMOBJECT END AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN CACALREQUEST CALRQ ON (REQ.CDREQUEST=CALRQ.CDREQUEST) LEFT OUTER JOIN OBOBJECT OBJ ON (CALRQ.CDASSET=OBJ.CDOBJECT AND OBJ.FGCURRENT=1) LEFT OUTER JOIN ASASSET AST ON (AST.CDASSET=OBJ.CDOBJECT AND AST.CDREVISION=OBJ.CDREVISION)INNER JOIN OBOBJECTGROUP OBGROUP ON (OBGROUP.CDOBJECTGROUP=OBJ.CDOBJECT) INNER JOIN OBOBJECTTYPE OBTYPE ON (OBTYPE.CDOBJECTTYPE=OBGROUP.CDOBJECTTYPE) WHERE TTYPE.CDISOSYSTEM=4 AND CALRQ.CDASSET=(SELECT TOP 1 CDASSET FROM CACALREQUEST CALRQ3 WHERE CALRQ3.CDREQUEST=CALRQ.CDREQUEST) AND REQ.FGOPERATION IN (9) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, DR.IDDOCUMENT AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN DCDOCUMENTREQUEST DCDRQ ON (REQ.CDREQUEST=DCDRQ.CDREQUEST) LEFT OUTER JOIN DCDOCREVISION DR ON (DCDRQ.CDDOCUMENT=DR.CDDOCUMENT AND DR.FGCURRENT=1) LEFT OUTER JOIN DCCATEGORY CT ON (DR.CDCATEGORY=CT.CDCATEGORY)WHERE TTYPE.CDISOSYSTEM=21 AND REQ.FGOPERATION IN (1) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, DR.IDDOCUMENT AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN DCDOCREVREQUEST DCREV ON (REQ.CDREQUEST=DCREV.CDREQUEST) LEFT OUTER JOIN DCDOCREVISION DR ON (DCREV.CDDOCUMENT=DR.CDDOCUMENT AND DR.FGCURRENT=1) INNER JOIN DCCATEGORY CT ON (DR.CDCATEGORY=CT.CDCATEGORY)WHERE TTYPE.CDISOSYSTEM=21 AND REQ.FGOPERATION IN (2) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, DR.IDDOCUMENT AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN DCDOCCANCELREQUEST DCCAN ON (REQ.CDREQUEST=DCCAN.CDREQUEST) LEFT OUTER JOIN DCDOCREVISION DR ON (DCCAN.CDDOCUMENT=DR.CDDOCUMENT AND DR.FGCURRENT=1) INNER JOIN DCCATEGORY CT ON (DR.CDCATEGORY=CT.CDCATEGORY)WHERE TTYPE.CDISOSYSTEM=21 AND REQ.FGOPERATION IN (5) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, DK.IDKEYWORD AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN DCKEYWORDREQUEST DCKRQ ON (REQ.CDREQUEST=DCKRQ.CDREQUEST) LEFT OUTER JOIN DCKEYWORD DK ON (DCKRQ.CDKEYWORD=DK.CDKEYWORD)WHERE TTYPE.CDISOSYSTEM=21 AND REQ.FGOPERATION IN (11) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, CASE WHEN (SELECT COUNT(DPR.CDREQUEST) FROM DCPRINTREQUEST DPR WHERE DPR.CDREQUEST=REQ.CDREQUEST) > 1 THEN 'Múltiplos' ELSE DR.IDDOCUMENT END AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN DCPRINTREQUEST DCPRI ON (REQ.CDREQUEST=DCPRI.CDREQUEST) LEFT OUTER JOIN DCDOCREVISION DR ON (DCPRI.CDDOCUMENT=DR.CDDOCUMENT AND DR.FGCURRENT=1) INNER JOIN DCCATEGORY CT ON (DR.CDCATEGORY=CT.CDCATEGORY)WHERE TTYPE.CDISOSYSTEM=21 AND REQ.FGOPERATION IN (7) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, PFL.IDPORTFOLIO AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN PFPORTREQASSOC PFREQ ON (REQ.CDREQUEST=PFREQ.CDREQUEST) LEFT OUTER JOIN PFPORTFOLIO PFL ON (PFREQ.CDPORTFOLIO=PFL.CDPORTFOLIO AND PFREQ.CDPFLREVISION=PFL.CDPFLREVISION)WHERE TTYPE.CDISOSYSTEM=94 AND REQ.FGOPERATION IN (1) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, (OBJ.IDOBJECT +' - '+ OBJ.NMOBJECT) AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN OBOBJECTREQUEST OBREQ ON (REQ.CDREQUEST=OBREQ.CDREQUEST) LEFT OUTER JOIN OBOBJECT OBJ ON (OBREQ.CDOBJECT=OBJ.CDOBJECT)INNER JOIN OBOBJECTGROUP OBGROUP ON (OBGROUP.CDOBJECTGROUP=OBJ.CDOBJECT) INNER JOIN OBOBJECTTYPE OBTYPE ON (OBTYPE.CDOBJECTTYPE=OBGROUP.CDOBJECTTYPE) WHERE TTYPE.CDISOSYSTEM=107 AND OBJ.FGAPPLICATION=3 AND REQ.FGOPERATION IN (2) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, CASE WHEN (SELECT COUNT(CDREQUEST) FROM OBORDERREQUESTOBJ MAIRQ1 WHERE MAIRQ1.CDREQUEST=REQ.CDREQUEST)=0 THEN NULL WHEN (SELECT COUNT(CDREQUEST) FROM OBORDERREQUESTOBJ MAIRQ1 WHERE MAIRQ1.CDREQUEST=REQ.CDREQUEST)>1 THEN 'Múltiplos' ELSE OBJ.IDOBJECT +' - '+ OBJ.NMOBJECT END AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN OBORDERREQUEST OBORDRQ ON (REQ.CDREQUEST=OBORDRQ.CDREQUEST) LEFT OUTER JOIN OBORDERREQUESTOBJ ORDOBJ ON (OBORDRQ.CDREQUEST=ORDOBJ.CDREQUEST) LEFT OUTER JOIN OBOBJECT OBJ ON (ORDOBJ.CDINPUT=OBJ.CDOBJECT AND ORDOBJ.CDREVISION=OBJ.CDREVISION)WHERE TTYPE.CDISOSYSTEM=107 AND ((SELECT COUNT(ORDOBJ2.CDINPUT) FROM OBORDERREQUESTOBJ ORDOBJ2 WHERE OBORDRQ.CDREQUEST=ORDOBJ2.CDREQUEST)=0 OR ((SELECT COUNT(ORDOBJ2.CDINPUT) FROM OBORDERREQUESTOBJ ORDOBJ2 WHERE OBORDRQ.CDREQUEST=ORDOBJ2.CDREQUEST)>0 AND ORDOBJ.CDINPUT=(SELECT TOP 1 CDINPUT FROM OBORDERREQUESTOBJ CALRQ3 WHERE CALRQ3.CDREQUEST=ORDOBJ.CDREQUEST))) AND REQ.FGOPERATION IN (13) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, CASE WHEN (SELECT COUNT(CDREQUEST) FROM MAMAINTREQUEST MAIRQ1 WHERE MAIRQ1.CDREQUEST=REQ.CDREQUEST)>1 THEN 'Múltiplos' ELSE CASE WHEN (SELECT COUNT(CDREQUEST) FROM MAMAINTREQUEST MAIRQ1 WHERE MAIRQ1.CDREQUEST=REQ.CDREQUEST AND MAIRQ1.CDASSET IS NOT NULL)>0 THEN (CASE WHEN OBJ.IDOBJECT IS NULL THEN NULL ELSE OBJ.IDOBJECT +' - '+ OBJ.NMOBJECT +' - '+ MAACT.IDACTIVITY END) ELSE (CASE WHEN MAACT.IDACTIVITY IS NULL THEN NULL ELSE MAACT.IDACTIVITY +' - '+ MAACT.NMACTIVITY END) END END AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN MAMAINTREQUEST MAIRQ ON (REQ.CDREQUEST=MAIRQ.CDREQUEST) LEFT OUTER JOIN OBOBJECT OBJ ON (MAIRQ.CDASSET=OBJ.CDOBJECT AND OBJ.FGCURRENT=1) LEFT OUTER JOIN ASASSET AST ON (AST.CDASSET=OBJ.CDOBJECT AND AST.CDREVISION=OBJ.CDREVISION) LEFT OUTER JOIN ASACTIVITY MAACT ON (MAIRQ.CDMODELACTIVITY=MAACT.CDACTIVITY) LEFT OUTER JOIN OBOBJECTGROUP OBGROUP ON (OBGROUP.CDOBJECTGROUP=OBJ.CDOBJECT) LEFT OUTER JOIN OBOBJECTTYPE OBTYPE ON (OBTYPE.CDOBJECTTYPE=OBGROUP.CDOBJECTTYPE)WHERE TTYPE.CDISOSYSTEM=25 AND MAIRQ.CDMAINTREQUEST=(SELECT MAX(CDMAINTREQUEST) FROM MAMAINTREQUEST MAIRQ3 WHERE MAIRQ3.CDREQUEST=MAIRQ.CDREQUEST) AND REQ.FGOPERATION IN (10) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, ATI.NMIDTASK AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN PRTASKREQUEST TASKREQUEST ON (REQ.CDREQUEST=TASKREQUEST.CDREQUEST) LEFT OUTER JOIN PRTASK ATI ON (TASKREQUEST.CDTASK=ATI.CDTASK)WHERE TTYPE.CDISOSYSTEM=205 AND REQ.FGOPERATION IN (1) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, PMACT.NMACTIVITY AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN PMACTREVREQUEST PMREQ ON (REQ.CDREQUEST=PMREQ.CDREQUEST) LEFT OUTER JOIN PMACTIVITY PMACT ON (PMREQ.CDACTIVITY=PMACT.CDACTIVITY) LEFT OUTER JOIN PMACTTYPE PMACTT ON (PMACT.CDACTTYPE=PMACTT.CDACTTYPE)WHERE TTYPE.CDISOSYSTEM=15 AND REQ.FGOPERATION IN (1) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, PMACT.NMACTIVITY AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN PMACTREVREQUEST PMREQ ON (REQ.CDREQUEST=PMREQ.CDREQUEST) LEFT OUTER JOIN PMACTIVITY PMACT ON (PMREQ.CDACTIVITY=PMACT.CDACTIVITY) LEFT OUTER JOIN PMACTTYPE PMACTT ON (PMACT.CDACTTYPE=PMACTT.CDACTTYPE)WHERE TTYPE.CDISOSYSTEM=15 AND PMACTT.FGTYPE=1 AND REQ.FGOPERATION IN (2) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, ATI.NMIDTASK AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN PRTASKREQUEST TASKREQUEST ON (REQ.CDREQUEST=TASKREQUEST.CDREQUEST) LEFT OUTER JOIN PRTASK ATI ON (TASKREQUEST.CDTASK=ATI.CDTASK)WHERE TTYPE.CDISOSYSTEM=41 AND REQ.FGOPERATION IN (1) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, ATI.NMIDTASK AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN PRTASKREQUEST TASKREQUEST ON (REQ.CDREQUEST=TASKREQUEST.CDREQUEST) LEFT OUTER JOIN PRTASK ATI ON (TASKREQUEST.CDTASK=ATI.CDTASK)WHERE TTYPE.CDISOSYSTEM=41 AND REQ.FGOPERATION IN (2) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, ATI.NMIDTASK AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN PRTASKREQUEST TASKREQUEST ON (REQ.CDREQUEST=TASKREQUEST.CDREQUEST) LEFT OUTER JOIN PRTASK ATI ON (TASKREQUEST.CDTASK=ATI.CDTASK)WHERE TTYPE.CDISOSYSTEM=41 AND REQ.FGOPERATION IN (1) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, ATI.NMIDTASK AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN PRTASKREQUEST TASKREQUEST ON (REQ.CDREQUEST=TASKREQUEST.CDREQUEST) LEFT OUTER JOIN PRTASK ATI ON (TASKREQUEST.CDTASK=ATI.CDTASK)WHERE TTYPE.CDISOSYSTEM=41 AND REQ.FGOPERATION IN (2) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, (OBJ.IDOBJECT +' - '+ OBJ.NMOBJECT) AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN OBOBJECTREQUEST TB2 ON (REQ.CDREQUEST=TB2.CDREQUEST) LEFT OUTER JOIN OBOBJECT OBJ ON (TB2.CDOBJECT=OBJ.CDOBJECT)INNER JOIN OBOBJECTGROUP OBGROUP ON (OBGROUP.CDOBJECTGROUP=OBJ.CDOBJECT) INNER JOIN OBOBJECTTYPE OBTYPE ON (OBTYPE.CDOBJECTTYPE=OBGROUP.CDOBJECTTYPE) WHERE TTYPE.CDISOSYSTEM=149 AND OBJ.FGAPPLICATION=5 AND REQ.FGOPERATION IN (2) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, CASE WHEN (SELECT COUNT(CDREQUEST) FROM OBORDERREQUESTOBJ MAIRQ1 WHERE MAIRQ1.CDREQUEST=REQ.CDREQUEST)=0 THEN NULL WHEN (SELECT COUNT(CDREQUEST) FROM OBORDERREQUESTOBJ MAIRQ1 WHERE MAIRQ1.CDREQUEST=REQ.CDREQUEST)>1 THEN 'Múltiplos' ELSE OBJ.IDOBJECT +' - '+ OBJ.NMOBJECT END AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN OBORDERREQUEST OBORDRQ ON (REQ.CDREQUEST=OBORDRQ.CDREQUEST) LEFT OUTER JOIN OBORDERREQUESTOBJ ORDOBJ ON (OBORDRQ.CDREQUEST=ORDOBJ.CDREQUEST) LEFT OUTER JOIN OBOBJECT OBJ ON (ORDOBJ.CDINPUT=OBJ.CDOBJECT AND ORDOBJ.CDREVISION=OBJ.CDREVISION)WHERE TTYPE.CDISOSYSTEM=149 AND ((SELECT COUNT(ORDOBJ2.CDINPUT) FROM OBORDERREQUESTOBJ ORDOBJ2 WHERE OBORDRQ.CDREQUEST=ORDOBJ2.CDREQUEST)=0 OR ((SELECT COUNT(ORDOBJ2.CDINPUT) FROM OBORDERREQUESTOBJ ORDOBJ2 WHERE OBORDRQ.CDREQUEST=ORDOBJ2.CDREQUEST)>0 AND ORDOBJ.CDINPUT=(SELECT TOP 1 CDINPUT FROM OBORDERREQUESTOBJ CALRQ3 WHERE CALRQ3.CDREQUEST=ORDOBJ.CDREQUEST))) AND REQ.FGOPERATION IN (13) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, CASE WHEN (SELECT COUNT(CDREQUEST) FROM OBPURCHASEREQUESTO MAIRQ1 WHERE MAIRQ1.CDREQUEST=REQ.CDREQUEST)=0 THEN NULL WHEN (SELECT COUNT(CDREQUEST) FROM OBPURCHASEREQUESTO MAIRQ1 WHERE MAIRQ1.CDREQUEST=REQ.CDREQUEST)>1 THEN 'Múltiplos' ELSE OBJ.IDOBJECT +' - '+ OBJ.NMOBJECT END AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN OBPURCHASEREQUEST OBPURCH ON (REQ.CDREQUEST=OBPURCH.CDREQUEST) LEFT OUTER JOIN OBPURCHASEREQUESTO OBPURO ON (OBPURCH.CDREQUEST=OBPURO.CDREQUEST) LEFT OUTER JOIN OBOBJECT OBJ ON (OBPURO.CDINPUT=OBJ.CDOBJECT AND OBPURO.CDREVISION=OBJ.CDREVISION)WHERE TTYPE.CDISOSYSTEM=149 AND ((SELECT COUNT(OBPURO2.CDINPUT) FROM OBPURCHASEREQUESTO OBPURO2 WHERE OBPURCH.CDREQUEST=OBPURO2.CDREQUEST)=0 OR ((SELECT COUNT(OBPURO2.CDINPUT) FROM OBPURCHASEREQUESTO OBPURO2 WHERE OBPURCH.CDREQUEST=OBPURO2.CDREQUEST)>0 AND OBPURO.CDINPUT=(SELECT TOP 1 CDINPUT FROM OBPURCHASEREQUESTO CALRQ3 WHERE CALRQ3.CDREQUEST=OBPURO.CDREQUEST))) AND REQ.FGOPERATION IN (15) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, CASE WHEN (SELECT COUNT(CDREQUEST) FROM GNREQUESTTIME GNR2 WHERE GNR2.CDREQUEST=REQ.CDREQUEST)= 1  THEN 'Múltiplos' ELSE NULL  END AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN GNREQUESTTIME GNRT ON (REQ.CDREQUEST=GNRT.CDREQUEST) WHERE TTYPE.CDISOSYSTEM=205 AND REQ.FGOPERATION IN (14) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, ('Curso: ' + C.IDCOURSE + ' / Colaborador: ' + CASE WHEN (CNT.CNTUSER>1) THEN 'Múltiplos' ELSE US.NMUSER END) AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN TRREQUEST TRR ON (REQ.CDREQUEST=TRR.CDREQUEST) LEFT OUTER JOIN (SELECT CDREQUEST, COUNT(CDUSER) AS CNTUSER FROM TRREQUEST GROUP BY CDREQUEST) CNT ON (TRR.CDREQUEST=CNT.CDREQUEST) LEFT OUTER JOIN TRCOURSE C ON (TRR.CDCOURSE=C.CDCOURSE) LEFT OUTER JOIN ADUSER US ON (TRR.CDUSER=US.CDUSER)WHERE TTYPE.CDISOSYSTEM=26 AND REQ.FGOPERATION IN (1) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, (OBJ.IDOBJECT +' - '+ OBJ.NMOBJECT) AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN OBOBJECTREQUEST TB2 ON (REQ.CDREQUEST=TB2.CDREQUEST) LEFT OUTER JOIN OBOBJECT OBJ ON (TB2.CDOBJECT=OBJ.CDOBJECT)INNER JOIN OBOBJECTGROUP OBGROUP ON (OBGROUP.CDOBJECTGROUP=OBJ.CDOBJECT) INNER JOIN OBOBJECTTYPE OBTYPE ON (OBTYPE.CDOBJECTTYPE=OBGROUP.CDOBJECTTYPE) WHERE TTYPE.CDISOSYSTEM=17 AND OBJ.FGAPPLICATION=9 AND REQ.FGOPERATION IN (2) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, RIC.NMCONTROL AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN RICTRLANALYSISREQUEST RIREQ ON (REQ.CDREQUEST=RIREQ.CDREQUEST) LEFT JOIN RICONTROLANALYSIS RICANA ON (RIREQ.CDCONTROLANALYSIS=RICANA.CDCONTROLANALYSIS) LEFT OUTER JOIN RICONTROL RIC ON (RIC.CDCONTROL=RICANA.CDCONTROL)WHERE TTYPE.CDISOSYSTEM=215 AND REQ.FGOPERATION IN (17) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383)) UNION SELECT REQ.FGOPERATION AS FGOPERATION, REQ.IDREQUEST, REQ.NMREQUEST, REQ.DTREQUEST, RIC.NMRISK AS OBJETO, REQ.DTCONCLUSION, REQ.CDASSOC, REQ.FGPHASE AS FGPHASEREQUEST, TTYPE.CDISOSYSTEM AS CDISOSYSTEM, TTYPE.NMREQUESTTYPE, REQ.CDREQUESTDEPT, REQ.CDREQUESTUSER, REQ.CDTASKUSER, REQ.CDAPPROV, REQ.CDPROD, REQ.CDSATISFACTION, REQ.CDREQUEST, REQ.CDFAVORITE, REQ.FGOBJECT, REQ.FGRESPCONTROL, REQ.CDTASKPOS, REQ.CDTASKDEPT, REQ.CDTASKTEAM, REQ.CDUSEREXECUTE, EVALRE.FGSYMBOL, EVALRE.IDCOLOR, EVALRE.NMEVALRESULT, RUSED.VLEVALRESULT FROM GNREQUEST REQ LEFT OUTER JOIN GNREQUESTTYPE TTYPE ON (REQ.CDREQUESTTYPE=TTYPE.CDREQUESTTYPE) LEFT OUTER JOIN GNEVALRESULTUSED RUSED ON (RUSED.CDEVALRESULTUSED=REQ.CDEVALRESULT) LEFT OUTER JOIN GNEVALRESULT EVALRE ON (EVALRE.CDEVALRESULT=RUSED.CDEVALRESULT) LEFT OUTER JOIN RIRISKANALYSISREQUEST RIREQ ON (REQ.CDREQUEST=RIREQ.CDREQUEST) LEFT JOIN RIRISKANALYSIS RIRANA ON (RIREQ.CDRISKANALYSIS=RIRANA.CDRISKANALYSIS) LEFT OUTER JOIN RIRISK RIC ON (RIC.CDRISK=RIRANA.CDRISK)WHERE TTYPE.CDISOSYSTEM=215 AND REQ.FGOPERATION IN (18) AND REQ.CDREQUESTTYPE IN (49) AND (EXISTS (SELECT 1 FROM GNTYPEROLE GNROLE_ALIAS WHERE GNROLE_ALIAS.CDTYPEROLE=TTYPE.CDTYPEROLE AND GNROLE_ALIAS.FGTYPE=1) OR EXISTS (SELECT 1 FROM (SELECT MAX(GNROLE.FGPERMISSIONTYPE) AS FGACCESSLIST, GNROLE.CDTYPEROLE AS CDTYPEROLE, GNROLE.CDUSER FROM (SELECT PM.FGPERMISSIONTYPE, PM.CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM WHERE PM.CDUSER <> -1 AND PM.CDPERMISSION=5 UNION ALL SELECT PM.FGPERMISSIONTYPE, US.CDUSER AS CDUSER, PM.CDTYPEROLE FROM GNUSERPERMTYPEROLE PM, ADUSER US WHERE PM.CDUSER=-1 AND US.FGUSERENABLED=1 AND PM.CDPERMISSION=5) GNROLE GROUP BY GNROLE.CDTYPEROLE, GNROLE.CDUSER) TYPEROLE WHERE TYPEROLE.FGACCESSLIST=1 AND TYPEROLE.CDTYPEROLE=TTYPE.CDTYPEROLE AND TYPEROLE.CDUSER=22383))) SQLBIFINAL LEFT JOIN (SELECT ADT.NMTEAM AS NMRESP, 2 AS FGMULTIPLERESP, OBR.CDREQUEST, ADT.CDTEAM AS CDRESP, 5 AS FGRESPCONTROLOBJ FROM OBOBJECTREQUEST OBR INNER JOIN OBOBJECT OBJ ON (OBJ.CDOBJECT=OBR.CDOBJECT AND OBJ.FGCURRENT=1) INNER JOIN ADTEAM ADT ON (OBJ.CDTEAMRESPONSABLE=ADT.CDTEAM) UNION SELECT CASE WHEN TBMULTIPLERESP.CDREQUEST IS NULL THEN ADT.NMTEAM ELSE null END AS NMRESP, CASE WHEN TBMULTIPLERESP.CDREQUEST IS NULL THEN 2 ELSE 1 END FGMULTIPLERESP, CALRQ.CDREQUEST, CASE WHEN TBMULTIPLERESP.CDREQUEST IS NULL THEN ADT.CDTEAM ELSE null END AS CDRESP, 5 AS FGRESPCONTROLOBJ FROM CACALREQUEST CALRQ LEFT JOIN (SELECT CHKCALRQ.CDREQUEST FROM CACALREQUEST CHKCALRQ INNER JOIN ASPLANACTIVASSET CHKASPLANACTAST ON (CHKCALRQ.CDASSET=CHKASPLANACTAST.CDASSET) INNER JOIN ASPLANACTIVITY CHKASPLANACT ON (CHKASPLANACTAST.CDPLANACTIVITY=CHKASPLANACT.CDPLANACTIVITY) INNER JOIN ASACTIVITY CHKASACT ON (CHKASPLANACT.CDACTIVITY=CHKASACT.CDACTIVITY) INNER JOIN ADTEAM CHKADT ON (CHKASPLANACT.CDTEAM=CHKADT.CDTEAM OR CHKASACT.CDPLANTEAM=CHKADT.CDTEAM OR CHKASACT.CDTEAM=CHKADT.CDTEAM) GROUP BY CHKCALRQ.CDREQUEST HAVING COUNT(1) > 1) TBMULTIPLERESP ON (CALRQ.CDREQUEST=TBMULTIPLERESP.CDREQUEST) LEFT JOIN ASPLANACTIVASSET ASPLANACTAST ON (TBMULTIPLERESP.CDREQUEST IS NULL AND CALRQ.CDASSET=ASPLANACTAST.CDASSET) LEFT JOIN ASPLANACTIVITY ASPLANACT ON (TBMULTIPLERESP.CDREQUEST IS NULL AND ASPLANACTAST.CDPLANACTIVITY=ASPLANACT.CDPLANACTIVITY) LEFT JOIN ASACTIVITY ASACT ON (TBMULTIPLERESP.CDREQUEST IS NULL AND ASPLANACT.CDACTIVITY=ASACT.CDACTIVITY) LEFT JOIN ADTEAM ADT ON (TBMULTIPLERESP.CDREQUEST IS NULL AND ASPLANACT.CDTEAM=ADT.CDTEAM) UNION SELECT NULL AS NMRESP, 1 AS FGMULTIPLERESP, RQ.CDREQUEST, -1 AS CDRESP, 1 AS FGRESPCONTROLOBJ FROM DCDOCREVREQUEST RQ UNION SELECT NULL AS NMRESP, 1 AS FGMULTIPLERESP, RQ.CDREQUEST, -1 AS CDRESP, 1 AS FGRESPCONTROLOBJ FROM DCDOCCANCELREQUEST RQ UNION SELECT NULL AS NMRESP, 1 AS FGMULTIPLERESP, RQ.CDREQUEST, -1 AS CDRESP, 1 AS FGRESPCONTROLOBJ FROM DCPRINTREQUEST RQ UNION SELECT TEAM.NMTEAM AS NMRESP, 2 AS FGMULTIPLERESP, OBREQ.CDREQUEST, TEAM.CDTEAM AS CDRESP, 5 AS FGRESPCONTROLOBJ FROM OBOBJECTREQUEST OBREQ INNER JOIN OBOBJECT OBJ ON (OBREQ.CDOBJECT=OBJ.CDOBJECT AND OBJ.FGCURRENT=1) INNER JOIN ADTEAM TEAM ON (OBJ.CDTEAMRESPONSABLE=TEAM.CDTEAM) UNION SELECT ADT.NMTEAM AS NMRESP, CASE WHEN TBMULTIPLERESP.CDREQUEST IS NULL THEN 2 ELSE 1 END FGMULTIPLERESP, GNRQ.CDREQUEST, ADT.CDTEAM AS CDRESP, 5 AS FGRESPCONTROLOBJ FROM GNREQUEST GNRQ LEFT JOIN (SELECT CHKRQ.CDREQUEST FROM GNREQUEST CHKRQ INNER JOIN MAMAINTREQUEST CHKMARQ ON (CHKRQ.CDREQUEST=CHKMARQ.CDREQUEST) INNER JOIN ASACTIVITY CHKASACT ON (CHKMARQ.CDMODELACTIVITY=CHKASACT.CDACTIVITY) INNER JOIN ADTEAM CHKADT ON (CHKASACT.CDPLANTEAM=CHKADT.CDTEAM OR CHKASACT.CDTEAM=CHKADT.CDTEAM) GROUP BY CHKRQ.CDREQUEST HAVING COUNT(1) > 1) TBMULTIPLERESP ON (GNRQ.CDREQUEST=TBMULTIPLERESP.CDREQUEST) LEFT JOIN MAMAINTREQUEST MARQ ON (TBMULTIPLERESP.CDREQUEST IS NULL AND MARQ.CDREQUEST=GNRQ.CDREQUEST) LEFT JOIN ASACTIVITY ASACT ON (TBMULTIPLERESP.CDREQUEST IS NULL AND MARQ.CDMODELACTIVITY=ASACT.CDACTIVITY) LEFT JOIN ADTEAM ADT ON (TBMULTIPLERESP.CDREQUEST IS NULL AND ASACT.CDPLANTEAM=ADT.CDTEAM) WHERE EXISTS( SELECT 1 FROM MAMAINTREQUEST WHERE CDREQUEST=GNRQ.CDREQUEST) UNION SELECT CASE WHEN PRT.CDTEAMRESP IS NULL THEN ADU.NMUSER ELSE NULL END AS NMRESP, CASE WHEN PRT.CDTASKRESP IS NOT NULL AND PRT.CDTEAMRESP IS NOT NULL THEN 1 ELSE 2 END AS FGMULTIPLERESP, PRTR.CDREQUEST, CASE WHEN PRT.CDTEAMRESP IS NULL THEN ADU.CDUSER ELSE NULL END AS CDRESP, 1 AS FGRESPCONTROLOBJ FROM PRTASKREQUEST PRTR INNER JOIN PRTASK PRT ON (PRT.CDTASK=PRTR.CDTASK) LEFT JOIN ADUSER ADU ON (PRT.CDTASKRESP=ADU.CDUSER) UNION SELECT ADT.NMTEAM AS NMRESP, 2 AS FGMULTIPLERESP, OBR.CDREQUEST, ADT.CDTEAM AS CDRESP, 5 AS FGRESPCONTROLOBJ FROM OBOBJECTREQUEST OBR INNER JOIN OBOBJECT OBJ ON (OBJ.CDOBJECT=OBR.CDOBJECT AND OBJ.FGCURRENT=1) INNER JOIN ADTEAM ADT ON (OBJ.CDTEAMRESPONSABLE=ADT.CDTEAM) UNION SELECT  TEAM.NMTEAM AS NMRESP, 2 AS FGMULTIPLERESP, OBR.CDREQUEST, TEAM.CDTEAM AS CDRESP, 5 AS FGRESPCONTROLOBJ FROM  ADUSER US INNER JOIN ADUSERDEPTPOS AUDP ON (US.CDUSER=AUDP.CDUSER) INNER JOIN ADTEAMMEMBER TME ON (TME.CDUSER=AUDP.CDUSER OR TME.CDPOSITION=AUDP.CDPOSITION OR TME.CDDEPARTMENT=AUDP.CDDEPARTMENT) INNER JOIN ADTEAM TEAM ON (TME.CDTEAM=TEAM.CDTEAM) INNER JOIN OBOBJECT OBJ ON (OBJ.CDTEAMRESPONSABLE=TEAM.CDTEAM AND OBJ.FGCURRENT=1) INNER JOIN OBOBJECTREQUEST OBR ON (OBR.CDOBJECT=OBJ.CDOBJECT)) OBJECTRESP ON (OBJECTRESP.CDREQUEST=SQLBIFINAL.CDREQUEST) LEFT OUTER JOIN ADUSER US0 ON (SQLBIFINAL.CDTASKUSER=US0.CDUSER) LEFT OUTER JOIN ADPOSITION ADPOS0 ON (ADPOS0.CDPOSITION=SQLBIFINAL.CDTASKPOS) LEFT OUTER JOIN ADDEPARTMENT ADDEP0 ON (ADDEP0.CDDEPARTMENT=SQLBIFINAL.CDTASKDEPT) LEFT OUTER JOIN ADTEAM ADTE0 ON (ADTE0.CDTEAM=SQLBIFINAL.CDTASKTEAM) LEFT OUTER JOIN ADUSER USEXEC ON (SQLBIFINAL.CDUSEREXECUTE=USEXEC.CDUSER) INNER JOIN ADDEPARTMENT DEPSOL ON (SQLBIFINAL.CDREQUESTDEPT=DEPSOL.CDDEPARTMENT) INNER JOIN ADUSER USOL ON (SQLBIFINAL.CDREQUESTUSER=USOL.CDUSER) LEFT OUTER JOIN ADUSER URA ON (SQLBIFINAL.CDTASKUSER=URA.CDUSER) LEFT OUTER JOIN GNSATISFACTION SAT ON (SQLBIFINAL.CDSATISFACTION=SAT.CDSATISFACTION) WHERE 1=1 AND SQLBIFINAL.FGPHASEREQUEST IN (1,2,3,4,5)
